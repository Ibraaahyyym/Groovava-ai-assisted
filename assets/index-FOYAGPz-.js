(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function zf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Lc={exports:{}},Ni={},$c={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=Symbol.for("react.element"),Ff=Symbol.for("react.portal"),Bf=Symbol.for("react.fragment"),Wf=Symbol.for("react.strict_mode"),Hf=Symbol.for("react.profiler"),Vf=Symbol.for("react.provider"),qf=Symbol.for("react.context"),Kf=Symbol.for("react.forward_ref"),Jf=Symbol.for("react.suspense"),Gf=Symbol.for("react.memo"),Qf=Symbol.for("react.lazy"),Xl=Symbol.iterator;function Yf(e){return e===null||typeof e!="object"?null:(e=Xl&&e[Xl]||e["@@iterator"],typeof e=="function"?e:null)}var Ac={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ic=Object.assign,Uc={};function rn(e,t,r){this.props=e,this.context=t,this.refs=Uc,this.updater=r||Ac}rn.prototype.isReactComponent={};rn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Dc(){}Dc.prototype=rn.prototype;function Fa(e,t,r){this.props=e,this.context=t,this.refs=Uc,this.updater=r||Ac}var Ba=Fa.prototype=new Dc;Ba.constructor=Fa;Ic(Ba,rn.prototype);Ba.isPureReactComponent=!0;var Zl=Array.isArray,Mc=Object.prototype.hasOwnProperty,Wa={current:null},zc={key:!0,ref:!0,__self:!0,__source:!0};function Fc(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Mc.call(t,n)&&!zc.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ss,type:e,key:i,ref:o,props:s,_owner:Wa.current}}function Xf(e,t){return{$$typeof:ss,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ha(e){return typeof e=="object"&&e!==null&&e.$$typeof===ss}function Zf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var eu=/\/+/g;function Xi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Zf(""+e.key):t.toString(36)}function Ds(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ss:case Ff:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Xi(o,0):n,Zl(s)?(r="",e!=null&&(r=e.replace(eu,"$&/")+"/"),Ds(s,t,r,"",function(c){return c})):s!=null&&(Ha(s)&&(s=Xf(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(eu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Zl(e))for(var a=0;a<e.length;a++){i=e[a];var u=n+Xi(i,a);o+=Ds(i,t,r,u,s)}else if(u=Yf(e),typeof u=="function")for(e=u.call(e),a=0;!(i=e.next()).done;)i=i.value,u=n+Xi(i,a++),o+=Ds(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function gs(e,t,r){if(e==null)return e;var n=[],s=0;return Ds(e,n,"","",function(i){return t.call(r,i,s++)}),n}function ep(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var be={current:null},Ms={transition:null},tp={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:Ms,ReactCurrentOwner:Wa};function Bc(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:gs,forEach:function(e,t,r){gs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return gs(e,function(){t++}),t},toArray:function(e){return gs(e,function(t){return t})||[]},only:function(e){if(!Ha(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Component=rn;M.Fragment=Bf;M.Profiler=Hf;M.PureComponent=Fa;M.StrictMode=Wf;M.Suspense=Jf;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tp;M.act=Bc;M.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ic({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Wa.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Mc.call(t,u)&&!zc.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:ss,type:e.type,key:s,ref:i,props:n,_owner:o}};M.createContext=function(e){return e={$$typeof:qf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vf,_context:e},e.Consumer=e};M.createElement=Fc;M.createFactory=function(e){var t=Fc.bind(null,e);return t.type=e,t};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:Kf,render:e}};M.isValidElement=Ha;M.lazy=function(e){return{$$typeof:Qf,_payload:{_status:-1,_result:e},_init:ep}};M.memo=function(e,t){return{$$typeof:Gf,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=Ms.transition;Ms.transition={};try{e()}finally{Ms.transition=t}};M.unstable_act=Bc;M.useCallback=function(e,t){return be.current.useCallback(e,t)};M.useContext=function(e){return be.current.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e){return be.current.useDeferredValue(e)};M.useEffect=function(e,t){return be.current.useEffect(e,t)};M.useId=function(){return be.current.useId()};M.useImperativeHandle=function(e,t,r){return be.current.useImperativeHandle(e,t,r)};M.useInsertionEffect=function(e,t){return be.current.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return be.current.useLayoutEffect(e,t)};M.useMemo=function(e,t){return be.current.useMemo(e,t)};M.useReducer=function(e,t,r){return be.current.useReducer(e,t,r)};M.useRef=function(e){return be.current.useRef(e)};M.useState=function(e){return be.current.useState(e)};M.useSyncExternalStore=function(e,t,r){return be.current.useSyncExternalStore(e,t,r)};M.useTransition=function(){return be.current.useTransition()};M.version="18.3.1";$c.exports=M;var x=$c.exports;const er=Mf(x);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp=x,np=Symbol.for("react.element"),sp=Symbol.for("react.fragment"),ip=Object.prototype.hasOwnProperty,op=rp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ap={key:!0,ref:!0,__self:!0,__source:!0};function Wc(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)ip.call(t,n)&&!ap.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:np,type:e,key:i,ref:o,props:s,_owner:op.current}}Ni.Fragment=sp;Ni.jsx=Wc;Ni.jsxs=Wc;Lc.exports=Ni;var l=Lc.exports,Hc={exports:{}},Ie={},Vc={exports:{}},qc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,O){var A=C.length;C.push(O);e:for(;0<A;){var ee=A-1>>>1,le=C[ee];if(0<s(le,O))C[ee]=O,C[A]=le,A=ee;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var O=C[0],A=C.pop();if(A!==O){C[0]=A;e:for(var ee=0,le=C.length,ps=le>>>1;ee<ps;){var Xt=2*(ee+1)-1,Yi=C[Xt],Zt=Xt+1,ms=C[Zt];if(0>s(Yi,A))Zt<le&&0>s(ms,Yi)?(C[ee]=ms,C[Zt]=A,ee=Zt):(C[ee]=Yi,C[Xt]=A,ee=Xt);else if(Zt<le&&0>s(ms,A))C[ee]=ms,C[Zt]=A,ee=Zt;else break e}}return O}function s(C,O){var A=C.sortIndex-O.sortIndex;return A!==0?A:C.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,h=null,m=3,y=!1,v=!1,k=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(C){for(var O=r(c);O!==null;){if(O.callback===null)n(c);else if(O.startTime<=C)n(c),O.sortIndex=O.expirationTime,t(u,O);else break;O=r(c)}}function w(C){if(k=!1,f(C),!v)if(r(u)!==null)v=!0,xe(b);else{var O=r(c);O!==null&&ht(w,O.startTime-C)}}function b(C,O){v=!1,k&&(k=!1,g(S),S=-1),y=!0;var A=m;try{for(f(O),h=r(u);h!==null&&(!(h.expirationTime>O)||C&&!U());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,m=h.priorityLevel;var le=ee(h.expirationTime<=O);O=e.unstable_now(),typeof le=="function"?h.callback=le:h===r(u)&&n(u),f(O)}else n(u);h=r(u)}if(h!==null)var ps=!0;else{var Xt=r(c);Xt!==null&&ht(w,Xt.startTime-O),ps=!1}return ps}finally{h=null,m=A,y=!1}}var j=!1,N=null,S=-1,R=5,P=-1;function U(){return!(e.unstable_now()-P<R)}function L(){if(N!==null){var C=e.unstable_now();P=C;var O=!0;try{O=N(!0,C)}finally{O?I():(j=!1,N=null)}}else j=!1}var I;if(typeof p=="function")I=function(){p(L)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,re=De.port2;De.port1.onmessage=L,I=function(){re.postMessage(null)}}else I=function(){_(L,0)};function xe(C){N=C,j||(j=!0,I())}function ht(C,O){S=_(function(){C(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,xe(b))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(C){switch(m){case 1:case 2:case 3:var O=3;break;default:O=m}var A=m;m=O;try{return C()}finally{m=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,O){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var A=m;m=C;try{return O()}finally{m=A}},e.unstable_scheduleCallback=function(C,O,A){var ee=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?ee+A:ee):A=ee,C){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=A+le,C={id:d++,callback:O,priorityLevel:C,startTime:A,expirationTime:le,sortIndex:-1},A>ee?(C.sortIndex=A,t(c,C),r(u)===null&&C===r(c)&&(k?(g(S),S=-1):k=!0,ht(w,A-ee))):(C.sortIndex=le,t(u,C),v||y||(v=!0,xe(b))),C},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(C){var O=m;return function(){var A=m;m=O;try{return C.apply(this,arguments)}finally{m=A}}}})(qc);Vc.exports=qc;var lp=Vc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up=x,Ae=lp;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kc=new Set,Dn={};function yr(e,t){Kr(e,t),Kr(e+"Capture",t)}function Kr(e,t){for(Dn[e]=t,e=0;e<t.length;e++)Kc.add(t[e])}var _t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ao=Object.prototype.hasOwnProperty,cp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tu={},ru={};function dp(e){return Ao.call(ru,e)?!0:Ao.call(tu,e)?!1:cp.test(e)?ru[e]=!0:(tu[e]=!0,!1)}function hp(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fp(e,t,r,n){if(t===null||typeof t>"u"||hp(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function je(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pe[e]=new je(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pe[t]=new je(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pe[e]=new je(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pe[e]=new je(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pe[e]=new je(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pe[e]=new je(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pe[e]=new je(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pe[e]=new je(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pe[e]=new je(e,5,!1,e.toLowerCase(),null,!1,!1)});var Va=/[\-:]([a-z])/g;function qa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Va,qa);pe[t]=new je(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Va,qa);pe[t]=new je(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Va,qa);pe[t]=new je(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pe[e]=new je(e,1,!1,e.toLowerCase(),null,!1,!1)});pe.xlinkHref=new je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pe[e]=new je(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ka(e,t,r,n){var s=pe.hasOwnProperty(t)?pe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fp(t,r,s,n)&&(r=null),n||s===null?dp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Nt=up.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ys=Symbol.for("react.element"),Tr=Symbol.for("react.portal"),Pr=Symbol.for("react.fragment"),Ja=Symbol.for("react.strict_mode"),Io=Symbol.for("react.profiler"),Jc=Symbol.for("react.provider"),Gc=Symbol.for("react.context"),Ga=Symbol.for("react.forward_ref"),Uo=Symbol.for("react.suspense"),Do=Symbol.for("react.suspense_list"),Qa=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),Qc=Symbol.for("react.offscreen"),nu=Symbol.iterator;function cn(e){return e===null||typeof e!="object"?null:(e=nu&&e[nu]||e["@@iterator"],typeof e=="function"?e:null)}var X=Object.assign,Zi;function wn(e){if(Zi===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Zi=t&&t[1]||""}return`
`+Zi+e}var eo=!1;function to(e,t){if(!e||eo)return"";eo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{eo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?wn(e):""}function pp(e){switch(e.tag){case 5:return wn(e.type);case 16:return wn("Lazy");case 13:return wn("Suspense");case 19:return wn("SuspenseList");case 0:case 2:case 15:return e=to(e.type,!1),e;case 11:return e=to(e.type.render,!1),e;case 1:return e=to(e.type,!0),e;default:return""}}function Mo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pr:return"Fragment";case Tr:return"Portal";case Io:return"Profiler";case Ja:return"StrictMode";case Uo:return"Suspense";case Do:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gc:return(e.displayName||"Context")+".Consumer";case Jc:return(e._context.displayName||"Context")+".Provider";case Ga:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qa:return t=e.displayName||null,t!==null?t:Mo(e.type)||"Memo";case Rt:t=e._payload,e=e._init;try{return Mo(e(t))}catch{}}return null}function mp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mo(t);case 8:return t===Ja?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gp(e){var t=Yc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vs(e){e._valueTracker||(e._valueTracker=gp(e))}function Xc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Yc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function zo(e,t){var r=t.checked;return X({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function su(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=qt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Zc(e,t){t=t.checked,t!=null&&Ka(e,"checked",t,!1)}function Fo(e,t){Zc(e,t);var r=qt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Bo(e,t.type,r):t.hasOwnProperty("defaultValue")&&Bo(e,t.type,qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function iu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Bo(e,t,r){(t!=="number"||Xs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var kn=Array.isArray;function Fr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+qt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Wo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return X({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ou(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(E(92));if(kn(r)){if(1<r.length)throw Error(E(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:qt(r)}}function ed(e,t){var r=qt(t.value),n=qt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function au(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function td(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ho(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?td(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xs,rd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xs=xs||document.createElement("div"),xs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Sn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yp=["Webkit","ms","Moz","O"];Object.keys(Sn).forEach(function(e){yp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sn[t]=Sn[e]})});function nd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Sn.hasOwnProperty(e)&&Sn[e]?(""+t).trim():t+"px"}function sd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=nd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var vp=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vo(e,t){if(t){if(vp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function qo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ko=null;function Ya(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jo=null,Br=null,Wr=null;function lu(e){if(e=as(e)){if(typeof Jo!="function")throw Error(E(280));var t=e.stateNode;t&&(t=Oi(t),Jo(e.stateNode,e.type,t))}}function id(e){Br?Wr?Wr.push(e):Wr=[e]:Br=e}function od(){if(Br){var e=Br,t=Wr;if(Wr=Br=null,lu(e),t)for(e=0;e<t.length;e++)lu(t[e])}}function ad(e,t){return e(t)}function ld(){}var ro=!1;function ud(e,t,r){if(ro)return e(t,r);ro=!0;try{return ad(e,t,r)}finally{ro=!1,(Br!==null||Wr!==null)&&(ld(),od())}}function zn(e,t){var r=e.stateNode;if(r===null)return null;var n=Oi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(E(231,t,typeof r));return r}var Go=!1;if(_t)try{var dn={};Object.defineProperty(dn,"passive",{get:function(){Go=!0}}),window.addEventListener("test",dn,dn),window.removeEventListener("test",dn,dn)}catch{Go=!1}function xp(e,t,r,n,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var En=!1,Zs=null,ei=!1,Qo=null,wp={onError:function(e){En=!0,Zs=e}};function kp(e,t,r,n,s,i,o,a,u){En=!1,Zs=null,xp.apply(wp,arguments)}function _p(e,t,r,n,s,i,o,a,u){if(kp.apply(this,arguments),En){if(En){var c=Zs;En=!1,Zs=null}else throw Error(E(198));ei||(ei=!0,Qo=c)}}function vr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function cd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function uu(e){if(vr(e)!==e)throw Error(E(188))}function bp(e){var t=e.alternate;if(!t){if(t=vr(e),t===null)throw Error(E(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return uu(s),e;if(i===n)return uu(s),t;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?e:t}function dd(e){return e=bp(e),e!==null?hd(e):null}function hd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hd(e);if(t!==null)return t;e=e.sibling}return null}var fd=Ae.unstable_scheduleCallback,cu=Ae.unstable_cancelCallback,jp=Ae.unstable_shouldYield,Sp=Ae.unstable_requestPaint,te=Ae.unstable_now,Ep=Ae.unstable_getCurrentPriorityLevel,Xa=Ae.unstable_ImmediatePriority,pd=Ae.unstable_UserBlockingPriority,ti=Ae.unstable_NormalPriority,Np=Ae.unstable_LowPriority,md=Ae.unstable_IdlePriority,Ci=null,ut=null;function Cp(e){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(Ci,e,void 0,(e.current.flags&128)===128)}catch{}}var Ze=Math.clz32?Math.clz32:Rp,Tp=Math.log,Pp=Math.LN2;function Rp(e){return e>>>=0,e===0?32:31-(Tp(e)/Pp|0)|0}var ws=64,ks=4194304;function _n(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ri(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=_n(a):(i&=o,i!==0&&(n=_n(i)))}else o=r&~s,o!==0?n=_n(o):i!==0&&(n=_n(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ze(t),s=1<<r,n|=e[r],t&=~s;return n}function Op(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ze(i),a=1<<o,u=s[o];u===-1?(!(a&r)||a&n)&&(s[o]=Op(a,t)):u<=t&&(e.expiredLanes|=a),i&=~a}}function Yo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gd(){var e=ws;return ws<<=1,!(ws&4194240)&&(ws=64),e}function no(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function is(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ze(t),e[t]=r}function $p(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ze(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Za(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ze(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var B=0;function yd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vd,el,xd,wd,kd,Xo=!1,_s=[],Dt=null,Mt=null,zt=null,Fn=new Map,Bn=new Map,Lt=[],Ap="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function du(e,t){switch(e){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Fn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(t.pointerId)}}function hn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=as(t),t!==null&&el(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ip(e,t,r,n,s){switch(t){case"focusin":return Dt=hn(Dt,e,t,r,n,s),!0;case"dragenter":return Mt=hn(Mt,e,t,r,n,s),!0;case"mouseover":return zt=hn(zt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Fn.set(i,hn(Fn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Bn.set(i,hn(Bn.get(i)||null,e,t,r,n,s)),!0}return!1}function _d(e){var t=ar(e.target);if(t!==null){var r=vr(t);if(r!==null){if(t=r.tag,t===13){if(t=cd(r),t!==null){e.blockedOn=t,kd(e.priority,function(){xd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Zo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ko=n,r.target.dispatchEvent(n),Ko=null}else return t=as(r),t!==null&&el(t),e.blockedOn=r,!1;t.shift()}return!0}function hu(e,t,r){zs(e)&&r.delete(t)}function Up(){Xo=!1,Dt!==null&&zs(Dt)&&(Dt=null),Mt!==null&&zs(Mt)&&(Mt=null),zt!==null&&zs(zt)&&(zt=null),Fn.forEach(hu),Bn.forEach(hu)}function fn(e,t){e.blockedOn===t&&(e.blockedOn=null,Xo||(Xo=!0,Ae.unstable_scheduleCallback(Ae.unstable_NormalPriority,Up)))}function Wn(e){function t(s){return fn(s,e)}if(0<_s.length){fn(_s[0],e);for(var r=1;r<_s.length;r++){var n=_s[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Dt!==null&&fn(Dt,e),Mt!==null&&fn(Mt,e),zt!==null&&fn(zt,e),Fn.forEach(t),Bn.forEach(t),r=0;r<Lt.length;r++)n=Lt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Lt.length&&(r=Lt[0],r.blockedOn===null);)_d(r),r.blockedOn===null&&Lt.shift()}var Hr=Nt.ReactCurrentBatchConfig,ni=!0;function Dp(e,t,r,n){var s=B,i=Hr.transition;Hr.transition=null;try{B=1,tl(e,t,r,n)}finally{B=s,Hr.transition=i}}function Mp(e,t,r,n){var s=B,i=Hr.transition;Hr.transition=null;try{B=4,tl(e,t,r,n)}finally{B=s,Hr.transition=i}}function tl(e,t,r,n){if(ni){var s=Zo(e,t,r,n);if(s===null)po(e,t,n,si,r),du(e,n);else if(Ip(s,e,t,r,n))n.stopPropagation();else if(du(e,n),t&4&&-1<Ap.indexOf(e)){for(;s!==null;){var i=as(s);if(i!==null&&vd(i),i=Zo(e,t,r,n),i===null&&po(e,t,n,si,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else po(e,t,n,null,r)}}var si=null;function Zo(e,t,r,n){if(si=null,e=Ya(n),e=ar(e),e!==null)if(t=vr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=cd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return si=e,null}function bd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ep()){case Xa:return 1;case pd:return 4;case ti:case Np:return 16;case md:return 536870912;default:return 16}default:return 16}}var It=null,rl=null,Fs=null;function jd(){if(Fs)return Fs;var e,t=rl,r=t.length,n,s="value"in It?It.value:It.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Fs=s.slice(e,1<n?1-n:void 0)}function Bs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bs(){return!0}function fu(){return!1}function Ue(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bs:fu,this.isPropagationStopped=fu,this}return X(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=bs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=bs)},persist:function(){},isPersistent:bs}),t}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nl=Ue(nn),os=X({},nn,{view:0,detail:0}),zp=Ue(os),so,io,pn,Ti=X({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pn&&(pn&&e.type==="mousemove"?(so=e.screenX-pn.screenX,io=e.screenY-pn.screenY):io=so=0,pn=e),so)},movementY:function(e){return"movementY"in e?e.movementY:io}}),pu=Ue(Ti),Fp=X({},Ti,{dataTransfer:0}),Bp=Ue(Fp),Wp=X({},os,{relatedTarget:0}),oo=Ue(Wp),Hp=X({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),Vp=Ue(Hp),qp=X({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kp=Ue(qp),Jp=X({},nn,{data:0}),mu=Ue(Jp),Gp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yp[e])?!!t[e]:!1}function sl(){return Xp}var Zp=X({},os,{key:function(e){if(e.key){var t=Gp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sl,charCode:function(e){return e.type==="keypress"?Bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),e0=Ue(Zp),t0=X({},Ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gu=Ue(t0),r0=X({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sl}),n0=Ue(r0),s0=X({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),i0=Ue(s0),o0=X({},Ti,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),a0=Ue(o0),l0=[9,13,27,32],il=_t&&"CompositionEvent"in window,Nn=null;_t&&"documentMode"in document&&(Nn=document.documentMode);var u0=_t&&"TextEvent"in window&&!Nn,Sd=_t&&(!il||Nn&&8<Nn&&11>=Nn),yu=" ",vu=!1;function Ed(e,t){switch(e){case"keyup":return l0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rr=!1;function c0(e,t){switch(e){case"compositionend":return Nd(t);case"keypress":return t.which!==32?null:(vu=!0,yu);case"textInput":return e=t.data,e===yu&&vu?null:e;default:return null}}function d0(e,t){if(Rr)return e==="compositionend"||!il&&Ed(e,t)?(e=jd(),Fs=rl=It=null,Rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sd&&t.locale!=="ko"?null:t.data;default:return null}}var h0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!h0[e.type]:t==="textarea"}function Cd(e,t,r,n){id(n),t=ii(t,"onChange"),0<t.length&&(r=new nl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Cn=null,Hn=null;function f0(e){Md(e,0)}function Pi(e){var t=$r(e);if(Xc(t))return e}function p0(e,t){if(e==="change")return t}var Td=!1;if(_t){var ao;if(_t){var lo="oninput"in document;if(!lo){var wu=document.createElement("div");wu.setAttribute("oninput","return;"),lo=typeof wu.oninput=="function"}ao=lo}else ao=!1;Td=ao&&(!document.documentMode||9<document.documentMode)}function ku(){Cn&&(Cn.detachEvent("onpropertychange",Pd),Hn=Cn=null)}function Pd(e){if(e.propertyName==="value"&&Pi(Hn)){var t=[];Cd(t,Hn,e,Ya(e)),ud(f0,t)}}function m0(e,t,r){e==="focusin"?(ku(),Cn=t,Hn=r,Cn.attachEvent("onpropertychange",Pd)):e==="focusout"&&ku()}function g0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pi(Hn)}function y0(e,t){if(e==="click")return Pi(t)}function v0(e,t){if(e==="input"||e==="change")return Pi(t)}function x0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tt=typeof Object.is=="function"?Object.is:x0;function Vn(e,t){if(tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ao.call(t,s)||!tt(e[s],t[s]))return!1}return!0}function _u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bu(e,t){var r=_u(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_u(r)}}function Rd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Od(){for(var e=window,t=Xs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Xs(e.document)}return t}function ol(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function w0(e){var t=Od(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Rd(r.ownerDocument.documentElement,r)){if(n!==null&&ol(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=bu(r,i);var o=bu(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var k0=_t&&"documentMode"in document&&11>=document.documentMode,Or=null,ea=null,Tn=null,ta=!1;function ju(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ta||Or==null||Or!==Xs(n)||(n=Or,"selectionStart"in n&&ol(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Tn&&Vn(Tn,n)||(Tn=n,n=ii(ea,"onSelect"),0<n.length&&(t=new nl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Or)))}function js(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Lr={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionend:js("Transition","TransitionEnd")},uo={},Ld={};_t&&(Ld=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function Ri(e){if(uo[e])return uo[e];if(!Lr[e])return e;var t=Lr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ld)return uo[e]=t[r];return e}var $d=Ri("animationend"),Ad=Ri("animationiteration"),Id=Ri("animationstart"),Ud=Ri("transitionend"),Dd=new Map,Su="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(e,t){Dd.set(e,t),yr(t,[e])}for(var co=0;co<Su.length;co++){var ho=Su[co],_0=ho.toLowerCase(),b0=ho[0].toUpperCase()+ho.slice(1);Jt(_0,"on"+b0)}Jt($d,"onAnimationEnd");Jt(Ad,"onAnimationIteration");Jt(Id,"onAnimationStart");Jt("dblclick","onDoubleClick");Jt("focusin","onFocus");Jt("focusout","onBlur");Jt(Ud,"onTransitionEnd");Kr("onMouseEnter",["mouseout","mouseover"]);Kr("onMouseLeave",["mouseout","mouseover"]);Kr("onPointerEnter",["pointerout","pointerover"]);Kr("onPointerLeave",["pointerout","pointerover"]);yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yr("onBeforeInput",["compositionend","keypress","textInput","paste"]);yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j0=new Set("cancel close invalid load scroll toggle".split(" ").concat(bn));function Eu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,_p(n,t,void 0,e),e.currentTarget=null}function Md(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Eu(s,a,c),i=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Eu(s,a,c),i=u}}}if(ei)throw e=Qo,ei=!1,Qo=null,e}function q(e,t){var r=t[oa];r===void 0&&(r=t[oa]=new Set);var n=e+"__bubble";r.has(n)||(zd(t,e,2,!1),r.add(n))}function fo(e,t,r){var n=0;t&&(n|=4),zd(r,e,n,t)}var Ss="_reactListening"+Math.random().toString(36).slice(2);function qn(e){if(!e[Ss]){e[Ss]=!0,Kc.forEach(function(r){r!=="selectionchange"&&(j0.has(r)||fo(r,!1,e),fo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ss]||(t[Ss]=!0,fo("selectionchange",!1,t))}}function zd(e,t,r,n){switch(bd(t)){case 1:var s=Dp;break;case 4:s=Mp;break;default:s=tl}r=s.bind(null,t,r,e),s=void 0,!Go||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function po(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ar(a),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}a=a.parentNode}}n=n.return}ud(function(){var c=i,d=Ya(r),h=[];e:{var m=Dd.get(e);if(m!==void 0){var y=nl,v=e;switch(e){case"keypress":if(Bs(r)===0)break e;case"keydown":case"keyup":y=e0;break;case"focusin":v="focus",y=oo;break;case"focusout":v="blur",y=oo;break;case"beforeblur":case"afterblur":y=oo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Bp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=n0;break;case $d:case Ad:case Id:y=Vp;break;case Ud:y=i0;break;case"scroll":y=zp;break;case"wheel":y=a0;break;case"copy":case"cut":case"paste":y=Kp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=gu}var k=(t&4)!==0,_=!k&&e==="scroll",g=k?m!==null?m+"Capture":null:m;k=[];for(var p=c,f;p!==null;){f=p;var w=f.stateNode;if(f.tag===5&&w!==null&&(f=w,g!==null&&(w=zn(p,g),w!=null&&k.push(Kn(p,w,f)))),_)break;p=p.return}0<k.length&&(m=new y(m,v,null,r,d),h.push({event:m,listeners:k}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&r!==Ko&&(v=r.relatedTarget||r.fromElement)&&(ar(v)||v[bt]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=c,v=v?ar(v):null,v!==null&&(_=vr(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=c),y!==v)){if(k=pu,w="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(k=gu,w="onPointerLeave",g="onPointerEnter",p="pointer"),_=y==null?m:$r(y),f=v==null?m:$r(v),m=new k(w,p+"leave",y,r,d),m.target=_,m.relatedTarget=f,w=null,ar(d)===c&&(k=new k(g,p+"enter",v,r,d),k.target=f,k.relatedTarget=_,w=k),_=w,y&&v)t:{for(k=y,g=v,p=0,f=k;f;f=kr(f))p++;for(f=0,w=g;w;w=kr(w))f++;for(;0<p-f;)k=kr(k),p--;for(;0<f-p;)g=kr(g),f--;for(;p--;){if(k===g||g!==null&&k===g.alternate)break t;k=kr(k),g=kr(g)}k=null}else k=null;y!==null&&Nu(h,m,y,k,!1),v!==null&&_!==null&&Nu(h,_,v,k,!0)}}e:{if(m=c?$r(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var b=p0;else if(xu(m))if(Td)b=v0;else{b=g0;var j=m0}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(b=y0);if(b&&(b=b(e,c))){Cd(h,b,r,d);break e}j&&j(e,m,c),e==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&Bo(m,"number",m.value)}switch(j=c?$r(c):window,e){case"focusin":(xu(j)||j.contentEditable==="true")&&(Or=j,ea=c,Tn=null);break;case"focusout":Tn=ea=Or=null;break;case"mousedown":ta=!0;break;case"contextmenu":case"mouseup":case"dragend":ta=!1,ju(h,r,d);break;case"selectionchange":if(k0)break;case"keydown":case"keyup":ju(h,r,d)}var N;if(il)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Rr?Ed(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(Sd&&r.locale!=="ko"&&(Rr||S!=="onCompositionStart"?S==="onCompositionEnd"&&Rr&&(N=jd()):(It=d,rl="value"in It?It.value:It.textContent,Rr=!0)),j=ii(c,S),0<j.length&&(S=new mu(S,e,null,r,d),h.push({event:S,listeners:j}),N?S.data=N:(N=Nd(r),N!==null&&(S.data=N)))),(N=u0?c0(e,r):d0(e,r))&&(c=ii(c,"onBeforeInput"),0<c.length&&(d=new mu("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=N))}Md(h,t)})}function Kn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ii(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zn(e,r),i!=null&&n.unshift(Kn(e,i,s)),i=zn(e,t),i!=null&&n.push(Kn(e,i,s))),e=e.return}return n}function kr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nu(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,c=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&c!==null&&(a=c,s?(u=zn(r,i),u!=null&&o.unshift(Kn(r,u,a))):s||(u=zn(r,i),u!=null&&o.push(Kn(r,u,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var S0=/\r\n?/g,E0=/\u0000|\uFFFD/g;function Cu(e){return(typeof e=="string"?e:""+e).replace(S0,`
`).replace(E0,"")}function Es(e,t,r){if(t=Cu(t),Cu(e)!==t&&r)throw Error(E(425))}function oi(){}var ra=null,na=null;function sa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ia=typeof setTimeout=="function"?setTimeout:void 0,N0=typeof clearTimeout=="function"?clearTimeout:void 0,Tu=typeof Promise=="function"?Promise:void 0,C0=typeof queueMicrotask=="function"?queueMicrotask:typeof Tu<"u"?function(e){return Tu.resolve(null).then(e).catch(T0)}:ia;function T0(e){setTimeout(function(){throw e})}function mo(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Wn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Wn(t)}function Ft(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var sn=Math.random().toString(36).slice(2),lt="__reactFiber$"+sn,Jn="__reactProps$"+sn,bt="__reactContainer$"+sn,oa="__reactEvents$"+sn,P0="__reactListeners$"+sn,R0="__reactHandles$"+sn;function ar(e){var t=e[lt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[bt]||r[lt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Pu(e);e!==null;){if(r=e[lt])return r;e=Pu(e)}return t}e=r,r=e.parentNode}return null}function as(e){return e=e[lt]||e[bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function Oi(e){return e[Jn]||null}var aa=[],Ar=-1;function Gt(e){return{current:e}}function K(e){0>Ar||(e.current=aa[Ar],aa[Ar]=null,Ar--)}function H(e,t){Ar++,aa[Ar]=e.current,e.current=t}var Kt={},ve=Gt(Kt),Te=Gt(!1),hr=Kt;function Jr(e,t){var r=e.type.contextTypes;if(!r)return Kt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pe(e){return e=e.childContextTypes,e!=null}function ai(){K(Te),K(ve)}function Ru(e,t,r){if(ve.current!==Kt)throw Error(E(168));H(ve,t),H(Te,r)}function Fd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(E(108,mp(e)||"Unknown",s));return X({},r,n)}function li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kt,hr=ve.current,H(ve,e),H(Te,Te.current),!0}function Ou(e,t,r){var n=e.stateNode;if(!n)throw Error(E(169));r?(e=Fd(e,t,hr),n.__reactInternalMemoizedMergedChildContext=e,K(Te),K(ve),H(ve,e)):K(Te),H(Te,r)}var yt=null,Li=!1,go=!1;function Bd(e){yt===null?yt=[e]:yt.push(e)}function O0(e){Li=!0,Bd(e)}function Qt(){if(!go&&yt!==null){go=!0;var e=0,t=B;try{var r=yt;for(B=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}yt=null,Li=!1}catch(s){throw yt!==null&&(yt=yt.slice(e+1)),fd(Xa,Qt),s}finally{B=t,go=!1}}return null}var Ir=[],Ur=0,ui=null,ci=0,Me=[],ze=0,fr=null,vt=1,xt="";function nr(e,t){Ir[Ur++]=ci,Ir[Ur++]=ui,ui=e,ci=t}function Wd(e,t,r){Me[ze++]=vt,Me[ze++]=xt,Me[ze++]=fr,fr=e;var n=vt;e=xt;var s=32-Ze(n)-1;n&=~(1<<s),r+=1;var i=32-Ze(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,vt=1<<32-Ze(t)+s|r<<s|n,xt=i+e}else vt=1<<i|r<<s|n,xt=e}function al(e){e.return!==null&&(nr(e,1),Wd(e,1,0))}function ll(e){for(;e===ui;)ui=Ir[--Ur],Ir[Ur]=null,ci=Ir[--Ur],Ir[Ur]=null;for(;e===fr;)fr=Me[--ze],Me[ze]=null,xt=Me[--ze],Me[ze]=null,vt=Me[--ze],Me[ze]=null}var $e=null,Le=null,J=!1,Xe=null;function Hd(e,t){var r=Fe(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Lu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$e=e,Le=Ft(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$e=e,Le=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=fr!==null?{id:vt,overflow:xt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Fe(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,$e=e,Le=null,!0):!1;default:return!1}}function la(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ua(e){if(J){var t=Le;if(t){var r=t;if(!Lu(e,t)){if(la(e))throw Error(E(418));t=Ft(r.nextSibling);var n=$e;t&&Lu(e,t)?Hd(n,r):(e.flags=e.flags&-4097|2,J=!1,$e=e)}}else{if(la(e))throw Error(E(418));e.flags=e.flags&-4097|2,J=!1,$e=e}}}function $u(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$e=e}function Ns(e){if(e!==$e)return!1;if(!J)return $u(e),J=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!sa(e.type,e.memoizedProps)),t&&(t=Le)){if(la(e))throw Vd(),Error(E(418));for(;t;)Hd(e,t),t=Ft(t.nextSibling)}if($u(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Le=Ft(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Le=null}}else Le=$e?Ft(e.stateNode.nextSibling):null;return!0}function Vd(){for(var e=Le;e;)e=Ft(e.nextSibling)}function Gr(){Le=$e=null,J=!1}function ul(e){Xe===null?Xe=[e]:Xe.push(e)}var L0=Nt.ReactCurrentBatchConfig;function mn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,e))}return e}function Cs(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Au(e){var t=e._init;return t(e._payload)}function qd(e){function t(g,p){if(e){var f=g.deletions;f===null?(g.deletions=[p],g.flags|=16):f.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Vt(g,p),g.index=0,g.sibling=null,g}function i(g,p,f){return g.index=f,e?(f=g.alternate,f!==null?(f=f.index,f<p?(g.flags|=2,p):f):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,p,f,w){return p===null||p.tag!==6?(p=bo(f,g.mode,w),p.return=g,p):(p=s(p,f),p.return=g,p)}function u(g,p,f,w){var b=f.type;return b===Pr?d(g,p,f.props.children,w,f.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Rt&&Au(b)===p.type)?(w=s(p,f.props),w.ref=mn(g,p,f),w.return=g,w):(w=Gs(f.type,f.key,f.props,null,g.mode,w),w.ref=mn(g,p,f),w.return=g,w)}function c(g,p,f,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==f.containerInfo||p.stateNode.implementation!==f.implementation?(p=jo(f,g.mode,w),p.return=g,p):(p=s(p,f.children||[]),p.return=g,p)}function d(g,p,f,w,b){return p===null||p.tag!==7?(p=dr(f,g.mode,w,b),p.return=g,p):(p=s(p,f),p.return=g,p)}function h(g,p,f){if(typeof p=="string"&&p!==""||typeof p=="number")return p=bo(""+p,g.mode,f),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ys:return f=Gs(p.type,p.key,p.props,null,g.mode,f),f.ref=mn(g,null,p),f.return=g,f;case Tr:return p=jo(p,g.mode,f),p.return=g,p;case Rt:var w=p._init;return h(g,w(p._payload),f)}if(kn(p)||cn(p))return p=dr(p,g.mode,f,null),p.return=g,p;Cs(g,p)}return null}function m(g,p,f,w){var b=p!==null?p.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return b!==null?null:a(g,p,""+f,w);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ys:return f.key===b?u(g,p,f,w):null;case Tr:return f.key===b?c(g,p,f,w):null;case Rt:return b=f._init,m(g,p,b(f._payload),w)}if(kn(f)||cn(f))return b!==null?null:d(g,p,f,w,null);Cs(g,f)}return null}function y(g,p,f,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(f)||null,a(p,g,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ys:return g=g.get(w.key===null?f:w.key)||null,u(p,g,w,b);case Tr:return g=g.get(w.key===null?f:w.key)||null,c(p,g,w,b);case Rt:var j=w._init;return y(g,p,f,j(w._payload),b)}if(kn(w)||cn(w))return g=g.get(f)||null,d(p,g,w,b,null);Cs(p,w)}return null}function v(g,p,f,w){for(var b=null,j=null,N=p,S=p=0,R=null;N!==null&&S<f.length;S++){N.index>S?(R=N,N=null):R=N.sibling;var P=m(g,N,f[S],w);if(P===null){N===null&&(N=R);break}e&&N&&P.alternate===null&&t(g,N),p=i(P,p,S),j===null?b=P:j.sibling=P,j=P,N=R}if(S===f.length)return r(g,N),J&&nr(g,S),b;if(N===null){for(;S<f.length;S++)N=h(g,f[S],w),N!==null&&(p=i(N,p,S),j===null?b=N:j.sibling=N,j=N);return J&&nr(g,S),b}for(N=n(g,N);S<f.length;S++)R=y(N,g,S,f[S],w),R!==null&&(e&&R.alternate!==null&&N.delete(R.key===null?S:R.key),p=i(R,p,S),j===null?b=R:j.sibling=R,j=R);return e&&N.forEach(function(U){return t(g,U)}),J&&nr(g,S),b}function k(g,p,f,w){var b=cn(f);if(typeof b!="function")throw Error(E(150));if(f=b.call(f),f==null)throw Error(E(151));for(var j=b=null,N=p,S=p=0,R=null,P=f.next();N!==null&&!P.done;S++,P=f.next()){N.index>S?(R=N,N=null):R=N.sibling;var U=m(g,N,P.value,w);if(U===null){N===null&&(N=R);break}e&&N&&U.alternate===null&&t(g,N),p=i(U,p,S),j===null?b=U:j.sibling=U,j=U,N=R}if(P.done)return r(g,N),J&&nr(g,S),b;if(N===null){for(;!P.done;S++,P=f.next())P=h(g,P.value,w),P!==null&&(p=i(P,p,S),j===null?b=P:j.sibling=P,j=P);return J&&nr(g,S),b}for(N=n(g,N);!P.done;S++,P=f.next())P=y(N,g,S,P.value,w),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?S:P.key),p=i(P,p,S),j===null?b=P:j.sibling=P,j=P);return e&&N.forEach(function(L){return t(g,L)}),J&&nr(g,S),b}function _(g,p,f,w){if(typeof f=="object"&&f!==null&&f.type===Pr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case ys:e:{for(var b=f.key,j=p;j!==null;){if(j.key===b){if(b=f.type,b===Pr){if(j.tag===7){r(g,j.sibling),p=s(j,f.props.children),p.return=g,g=p;break e}}else if(j.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Rt&&Au(b)===j.type){r(g,j.sibling),p=s(j,f.props),p.ref=mn(g,j,f),p.return=g,g=p;break e}r(g,j);break}else t(g,j);j=j.sibling}f.type===Pr?(p=dr(f.props.children,g.mode,w,f.key),p.return=g,g=p):(w=Gs(f.type,f.key,f.props,null,g.mode,w),w.ref=mn(g,p,f),w.return=g,g=w)}return o(g);case Tr:e:{for(j=f.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===f.containerInfo&&p.stateNode.implementation===f.implementation){r(g,p.sibling),p=s(p,f.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=jo(f,g.mode,w),p.return=g,g=p}return o(g);case Rt:return j=f._init,_(g,p,j(f._payload),w)}if(kn(f))return v(g,p,f,w);if(cn(f))return k(g,p,f,w);Cs(g,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,f),p.return=g,g=p):(r(g,p),p=bo(f,g.mode,w),p.return=g,g=p),o(g)):r(g,p)}return _}var Qr=qd(!0),Kd=qd(!1),di=Gt(null),hi=null,Dr=null,cl=null;function dl(){cl=Dr=hi=null}function hl(e){var t=di.current;K(di),e._currentValue=t}function ca(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Vr(e,t){hi=e,cl=Dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ne=!0),e.firstContext=null)}function He(e){var t=e._currentValue;if(cl!==e)if(e={context:e,memoizedValue:t,next:null},Dr===null){if(hi===null)throw Error(E(308));Dr=e,hi.dependencies={lanes:0,firstContext:e}}else Dr=Dr.next=e;return t}var lr=null;function fl(e){lr===null?lr=[e]:lr.push(e)}function Jd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,fl(t)):(r.next=s.next,s.next=r),t.interleaved=r,jt(e,n)}function jt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ot=!1;function pl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,F&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,jt(e,r)}return s=n.interleaved,s===null?(t.next=t,fl(n)):(t.next=s.next,s.next=t),n.interleaved=t,jt(e,r)}function Ws(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Za(e,r)}}function Iu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function fi(e,t,r,n){var s=e.updateQueue;Ot=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,d=c=u=null,a=i;do{var m=a.lane,y=a.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,k=a;switch(m=t,y=r,k.tag){case 1:if(v=k.payload,typeof v=="function"){h=v.call(y,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=k.payload,m=typeof v=="function"?v.call(y,h,m):v,m==null)break e;h=X({},h,m);break e;case 2:Ot=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,u=h):d=d.next=y,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);mr|=o,e.lanes=o,e.memoizedState=h}}function Uu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var ls={},ct=Gt(ls),Gn=Gt(ls),Qn=Gt(ls);function ur(e){if(e===ls)throw Error(E(174));return e}function ml(e,t){switch(H(Qn,t),H(Gn,e),H(ct,ls),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ho(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ho(t,e)}K(ct),H(ct,t)}function Yr(){K(ct),K(Gn),K(Qn)}function Qd(e){ur(Qn.current);var t=ur(ct.current),r=Ho(t,e.type);t!==r&&(H(Gn,e),H(ct,r))}function gl(e){Gn.current===e&&(K(ct),K(Gn))}var Q=Gt(0);function pi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yo=[];function yl(){for(var e=0;e<yo.length;e++)yo[e]._workInProgressVersionPrimary=null;yo.length=0}var Hs=Nt.ReactCurrentDispatcher,vo=Nt.ReactCurrentBatchConfig,pr=0,Y=null,oe=null,ue=null,mi=!1,Pn=!1,Yn=0,$0=0;function me(){throw Error(E(321))}function vl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!tt(e[r],t[r]))return!1;return!0}function xl(e,t,r,n,s,i){if(pr=i,Y=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hs.current=e===null||e.memoizedState===null?D0:M0,e=r(n,s),Pn){i=0;do{if(Pn=!1,Yn=0,25<=i)throw Error(E(301));i+=1,ue=oe=null,t.updateQueue=null,Hs.current=z0,e=r(n,s)}while(Pn)}if(Hs.current=gi,t=oe!==null&&oe.next!==null,pr=0,ue=oe=Y=null,mi=!1,t)throw Error(E(300));return e}function wl(){var e=Yn!==0;return Yn=0,e}function ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?Y.memoizedState=ue=e:ue=ue.next=e,ue}function Ve(){if(oe===null){var e=Y.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var t=ue===null?Y.memoizedState:ue.next;if(t!==null)ue=t,oe=e;else{if(e===null)throw Error(E(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},ue===null?Y.memoizedState=ue=e:ue=ue.next=e}return ue}function Xn(e,t){return typeof t=="function"?t(e):t}function xo(e){var t=Ve(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=oe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,u=null,c=i;do{var d=c.lane;if((pr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=n):u=u.next=h,Y.lanes|=d,mr|=d}c=c.next}while(c!==null&&c!==i);u===null?o=n:u.next=a,tt(n,t.memoizedState)||(Ne=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Y.lanes|=i,mr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function wo(e){var t=Ve(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);tt(i,t.memoizedState)||(Ne=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Yd(){}function Xd(e,t){var r=Y,n=Ve(),s=t(),i=!tt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ne=!0),n=n.queue,kl(th.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ue!==null&&ue.memoizedState.tag&1){if(r.flags|=2048,Zn(9,eh.bind(null,r,n,s,t),void 0,null),ce===null)throw Error(E(349));pr&30||Zd(r,t,s)}return s}function Zd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Y.updateQueue,t===null?(t={lastEffect:null,stores:null},Y.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function eh(e,t,r,n){t.value=r,t.getSnapshot=n,rh(t)&&nh(e)}function th(e,t,r){return r(function(){rh(t)&&nh(e)})}function rh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tt(e,r)}catch{return!0}}function nh(e){var t=jt(e,1);t!==null&&et(t,e,1,-1)}function Du(e){var t=ot();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xn,lastRenderedState:e},t.queue=e,e=e.dispatch=U0.bind(null,Y,e),[t.memoizedState,e]}function Zn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Y.updateQueue,t===null?(t={lastEffect:null,stores:null},Y.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function sh(){return Ve().memoizedState}function Vs(e,t,r,n){var s=ot();Y.flags|=e,s.memoizedState=Zn(1|t,r,void 0,n===void 0?null:n)}function $i(e,t,r,n){var s=Ve();n=n===void 0?null:n;var i=void 0;if(oe!==null){var o=oe.memoizedState;if(i=o.destroy,n!==null&&vl(n,o.deps)){s.memoizedState=Zn(t,r,i,n);return}}Y.flags|=e,s.memoizedState=Zn(1|t,r,i,n)}function Mu(e,t){return Vs(8390656,8,e,t)}function kl(e,t){return $i(2048,8,e,t)}function ih(e,t){return $i(4,2,e,t)}function oh(e,t){return $i(4,4,e,t)}function ah(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lh(e,t,r){return r=r!=null?r.concat([e]):null,$i(4,4,ah.bind(null,t,e),r)}function _l(){}function uh(e,t){var r=Ve();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ch(e,t){var r=Ve();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function dh(e,t,r){return pr&21?(tt(r,t)||(r=gd(),Y.lanes|=r,mr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ne=!0),e.memoizedState=r)}function A0(e,t){var r=B;B=r!==0&&4>r?r:4,e(!0);var n=vo.transition;vo.transition={};try{e(!1),t()}finally{B=r,vo.transition=n}}function hh(){return Ve().memoizedState}function I0(e,t,r){var n=Ht(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fh(e))ph(t,r);else if(r=Jd(e,t,r,n),r!==null){var s=_e();et(r,e,n,s),mh(r,t,n)}}function U0(e,t,r){var n=Ht(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fh(e))ph(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,tt(a,o)){var u=t.interleaved;u===null?(s.next=s,fl(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=Jd(e,t,s,n),r!==null&&(s=_e(),et(r,e,n,s),mh(r,t,n))}}function fh(e){var t=e.alternate;return e===Y||t!==null&&t===Y}function ph(e,t){Pn=mi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function mh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Za(e,r)}}var gi={readContext:He,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},D0={readContext:He,useCallback:function(e,t){return ot().memoizedState=[e,t===void 0?null:t],e},useContext:He,useEffect:Mu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Vs(4194308,4,ah.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Vs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vs(4,2,e,t)},useMemo:function(e,t){var r=ot();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ot();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=I0.bind(null,Y,e),[n.memoizedState,e]},useRef:function(e){var t=ot();return e={current:e},t.memoizedState=e},useState:Du,useDebugValue:_l,useDeferredValue:function(e){return ot().memoizedState=e},useTransition:function(){var e=Du(!1),t=e[0];return e=A0.bind(null,e[1]),ot().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Y,s=ot();if(J){if(r===void 0)throw Error(E(407));r=r()}else{if(r=t(),ce===null)throw Error(E(349));pr&30||Zd(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Mu(th.bind(null,n,i,e),[e]),n.flags|=2048,Zn(9,eh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ot(),t=ce.identifierPrefix;if(J){var r=xt,n=vt;r=(n&~(1<<32-Ze(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Yn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=$0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},M0={readContext:He,useCallback:uh,useContext:He,useEffect:kl,useImperativeHandle:lh,useInsertionEffect:ih,useLayoutEffect:oh,useMemo:ch,useReducer:xo,useRef:sh,useState:function(){return xo(Xn)},useDebugValue:_l,useDeferredValue:function(e){var t=Ve();return dh(t,oe.memoizedState,e)},useTransition:function(){var e=xo(Xn)[0],t=Ve().memoizedState;return[e,t]},useMutableSource:Yd,useSyncExternalStore:Xd,useId:hh,unstable_isNewReconciler:!1},z0={readContext:He,useCallback:uh,useContext:He,useEffect:kl,useImperativeHandle:lh,useInsertionEffect:ih,useLayoutEffect:oh,useMemo:ch,useReducer:wo,useRef:sh,useState:function(){return wo(Xn)},useDebugValue:_l,useDeferredValue:function(e){var t=Ve();return oe===null?t.memoizedState=e:dh(t,oe.memoizedState,e)},useTransition:function(){var e=wo(Xn)[0],t=Ve().memoizedState;return[e,t]},useMutableSource:Yd,useSyncExternalStore:Xd,useId:hh,unstable_isNewReconciler:!1};function Ge(e,t){if(e&&e.defaultProps){t=X({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function da(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:X({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ai={isMounted:function(e){return(e=e._reactInternals)?vr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_e(),s=Ht(e),i=wt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Bt(e,i,s),t!==null&&(et(t,e,s,n),Ws(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_e(),s=Ht(e),i=wt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Bt(e,i,s),t!==null&&(et(t,e,s,n),Ws(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_e(),n=Ht(e),s=wt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Bt(e,s,n),t!==null&&(et(t,e,n,r),Ws(t,e,n))}};function zu(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Vn(r,n)||!Vn(s,i):!0}function gh(e,t,r){var n=!1,s=Kt,i=t.contextType;return typeof i=="object"&&i!==null?i=He(i):(s=Pe(t)?hr:ve.current,n=t.contextTypes,i=(n=n!=null)?Jr(e,s):Kt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ai,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Fu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ai.enqueueReplaceState(t,t.state,null)}function ha(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},pl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=He(i):(i=Pe(t)?hr:ve.current,s.context=Jr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(da(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ai.enqueueReplaceState(s,s.state,null),fi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Xr(e,t){try{var r="",n=t;do r+=pp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ko(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function fa(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var F0=typeof WeakMap=="function"?WeakMap:Map;function yh(e,t,r){r=wt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){vi||(vi=!0,ba=n),fa(e,t)},r}function vh(e,t,r){r=wt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){fa(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){fa(e,t),typeof n!="function"&&(Wt===null?Wt=new Set([this]):Wt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Bu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new F0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=tm.bind(null,e,t,r),t.then(e,e))}function Wu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wt(-1,1),t.tag=2,Bt(r,t,1))),r.lanes|=1),e)}var B0=Nt.ReactCurrentOwner,Ne=!1;function ke(e,t,r,n){t.child=e===null?Kd(t,null,r,n):Qr(t,e.child,r,n)}function Vu(e,t,r,n,s){r=r.render;var i=t.ref;return Vr(t,s),n=xl(e,t,r,n,i,s),r=wl(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,St(e,t,s)):(J&&r&&al(t),t.flags|=1,ke(e,t,n,s),t.child)}function qu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Pl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,xh(e,t,i,n,s)):(e=Gs(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Vn,r(o,n)&&e.ref===t.ref)return St(e,t,s)}return t.flags|=1,e=Vt(i,n),e.ref=t.ref,e.return=t,t.child=e}function xh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Vn(i,n)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ne=!0);else return t.lanes=e.lanes,St(e,t,s)}return pa(e,t,r,n,s)}function wh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(zr,Oe),Oe|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,H(zr,Oe),Oe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,H(zr,Oe),Oe|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,H(zr,Oe),Oe|=n;return ke(e,t,s,r),t.child}function kh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function pa(e,t,r,n,s){var i=Pe(r)?hr:ve.current;return i=Jr(t,i),Vr(t,s),r=xl(e,t,r,n,i,s),n=wl(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,St(e,t,s)):(J&&n&&al(t),t.flags|=1,ke(e,t,r,s),t.child)}function Ku(e,t,r,n,s){if(Pe(r)){var i=!0;li(t)}else i=!1;if(Vr(t,s),t.stateNode===null)qs(e,t),gh(t,r,n),ha(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=He(c):(c=Pe(r)?hr:ve.current,c=Jr(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==c)&&Fu(t,o,n,c),Ot=!1;var m=t.memoizedState;o.state=m,fi(t,n,o,s),u=t.memoizedState,a!==n||m!==u||Te.current||Ot?(typeof d=="function"&&(da(t,r,d,n),u=t.memoizedState),(a=Ot||zu(t,r,a,n,m,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),o.props=n,o.state=u,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Gd(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Ge(t.type,a),o.props=c,h=t.pendingProps,m=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=He(u):(u=Pe(r)?hr:ve.current,u=Jr(t,u));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==u)&&Fu(t,o,n,u),Ot=!1,m=t.memoizedState,o.state=m,fi(t,n,o,s);var v=t.memoizedState;a!==h||m!==v||Te.current||Ot?(typeof y=="function"&&(da(t,r,y,n),v=t.memoizedState),(c=Ot||zu(t,r,c,n,m,v,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return ma(e,t,r,n,i,s)}function ma(e,t,r,n,s,i){kh(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Ou(t,r,!1),St(e,t,i);n=t.stateNode,B0.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Qr(t,e.child,null,i),t.child=Qr(t,null,a,i)):ke(e,t,a,i),t.memoizedState=n.state,s&&Ou(t,r,!0),t.child}function _h(e){var t=e.stateNode;t.pendingContext?Ru(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ru(e,t.context,!1),ml(e,t.containerInfo)}function Ju(e,t,r,n,s){return Gr(),ul(s),t.flags|=256,ke(e,t,r,n),t.child}var ga={dehydrated:null,treeContext:null,retryLane:0};function ya(e){return{baseLanes:e,cachePool:null,transitions:null}}function bh(e,t,r){var n=t.pendingProps,s=Q.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),H(Q,s&1),e===null)return ua(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Di(o,n,0,null),e=dr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ya(r),t.memoizedState=ga,e):bl(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return W0(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Vt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Vt(a,i):(i=dr(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?ya(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=ga,n}return i=e.child,e=i.sibling,n=Vt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function bl(e,t){return t=Di({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ts(e,t,r,n){return n!==null&&ul(n),Qr(t,e.child,null,r),e=bl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function W0(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=ko(Error(E(422))),Ts(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Di({mode:"visible",children:n.children},s,0,null),i=dr(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Qr(t,e.child,null,o),t.child.memoizedState=ya(o),t.memoizedState=ga,i);if(!(t.mode&1))return Ts(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(E(419)),n=ko(i,n,void 0),Ts(e,t,o,n)}if(a=(o&e.childLanes)!==0,Ne||a){if(n=ce,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,jt(e,s),et(n,e,s,-1))}return Tl(),n=ko(Error(E(421))),Ts(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=rm.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Le=Ft(s.nextSibling),$e=t,J=!0,Xe=null,e!==null&&(Me[ze++]=vt,Me[ze++]=xt,Me[ze++]=fr,vt=e.id,xt=e.overflow,fr=t),t=bl(t,n.children),t.flags|=4096,t)}function Gu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ca(e.return,t,r)}function _o(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function jh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(ke(e,t,n.children,r),n=Q.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gu(e,r,t);else if(e.tag===19)Gu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(H(Q,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&pi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),_o(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&pi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}_o(t,!0,r,null,i);break;case"together":_o(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function St(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),mr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,r=Vt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Vt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function H0(e,t,r){switch(t.tag){case 3:_h(t),Gr();break;case 5:Qd(t);break;case 1:Pe(t.type)&&li(t);break;case 4:ml(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;H(di,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(H(Q,Q.current&1),t.flags|=128,null):r&t.child.childLanes?bh(e,t,r):(H(Q,Q.current&1),e=St(e,t,r),e!==null?e.sibling:null);H(Q,Q.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return jh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(Q,Q.current),n)break;return null;case 22:case 23:return t.lanes=0,wh(e,t,r)}return St(e,t,r)}var Sh,va,Eh,Nh;Sh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};va=function(){};Eh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ur(ct.current);var i=null;switch(r){case"input":s=zo(e,s),n=zo(e,n),i=[];break;case"select":s=X({},s,{value:void 0}),n=X({},n,{value:void 0}),i=[];break;case"textarea":s=Wo(e,s),n=Wo(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=oi)}Vo(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Dn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Dn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&q("scroll",e),i||a===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};Nh=function(e,t,r,n){r!==n&&(t.flags|=4)};function gn(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function V0(e,t,r){var n=t.pendingProps;switch(ll(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return Pe(t.type)&&ai(),ge(t),null;case 3:return n=t.stateNode,Yr(),K(Te),K(ve),yl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ns(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xe!==null&&(Ea(Xe),Xe=null))),va(e,t),ge(t),null;case 5:gl(t);var s=ur(Qn.current);if(r=t.type,e!==null&&t.stateNode!=null)Eh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(E(166));return ge(t),null}if(e=ur(ct.current),Ns(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[lt]=t,n[Jn]=i,e=(t.mode&1)!==0,r){case"dialog":q("cancel",n),q("close",n);break;case"iframe":case"object":case"embed":q("load",n);break;case"video":case"audio":for(s=0;s<bn.length;s++)q(bn[s],n);break;case"source":q("error",n);break;case"img":case"image":case"link":q("error",n),q("load",n);break;case"details":q("toggle",n);break;case"input":su(n,i),q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},q("invalid",n);break;case"textarea":ou(n,i),q("invalid",n)}Vo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Es(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Es(n.textContent,a,e),s=["children",""+a]):Dn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&q("scroll",n)}switch(r){case"input":vs(n),iu(n,i,!0);break;case"textarea":vs(n),au(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=oi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=td(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[lt]=t,e[Jn]=n,Sh(e,t,!1,!1),t.stateNode=e;e:{switch(o=qo(r,n),r){case"dialog":q("cancel",e),q("close",e),s=n;break;case"iframe":case"object":case"embed":q("load",e),s=n;break;case"video":case"audio":for(s=0;s<bn.length;s++)q(bn[s],e);s=n;break;case"source":q("error",e),s=n;break;case"img":case"image":case"link":q("error",e),q("load",e),s=n;break;case"details":q("toggle",e),s=n;break;case"input":su(e,n),s=zo(e,n),q("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=X({},n,{value:void 0}),q("invalid",e);break;case"textarea":ou(e,n),s=Wo(e,n),q("invalid",e);break;default:s=n}Vo(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?sd(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&rd(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Mn(e,u):typeof u=="number"&&Mn(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Dn.hasOwnProperty(i)?u!=null&&i==="onScroll"&&q("scroll",e):u!=null&&Ka(e,i,u,o))}switch(r){case"input":vs(e),iu(e,n,!1);break;case"textarea":vs(e),au(e);break;case"option":n.value!=null&&e.setAttribute("value",""+qt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Fr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Fr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=oi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ge(t),null;case 6:if(e&&t.stateNode!=null)Nh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(E(166));if(r=ur(Qn.current),ur(ct.current),Ns(t)){if(n=t.stateNode,r=t.memoizedProps,n[lt]=t,(i=n.nodeValue!==r)&&(e=$e,e!==null))switch(e.tag){case 3:Es(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Es(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[lt]=t,t.stateNode=n}return ge(t),null;case 13:if(K(Q),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(J&&Le!==null&&t.mode&1&&!(t.flags&128))Vd(),Gr(),t.flags|=98560,i=!1;else if(i=Ns(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[lt]=t}else Gr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),i=!1}else Xe!==null&&(Ea(Xe),Xe=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Q.current&1?ae===0&&(ae=3):Tl())),t.updateQueue!==null&&(t.flags|=4),ge(t),null);case 4:return Yr(),va(e,t),e===null&&qn(t.stateNode.containerInfo),ge(t),null;case 10:return hl(t.type._context),ge(t),null;case 17:return Pe(t.type)&&ai(),ge(t),null;case 19:if(K(Q),i=t.memoizedState,i===null)return ge(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)gn(i,!1);else{if(ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=pi(e),o!==null){for(t.flags|=128,gn(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return H(Q,Q.current&1|2),t.child}e=e.sibling}i.tail!==null&&te()>Zr&&(t.flags|=128,n=!0,gn(i,!1),t.lanes=4194304)}else{if(!n)if(e=pi(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),gn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return ge(t),null}else 2*te()-i.renderingStartTime>Zr&&r!==1073741824&&(t.flags|=128,n=!0,gn(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,r=Q.current,H(Q,n?r&1|2:r&1),t):(ge(t),null);case 22:case 23:return Cl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Oe&1073741824&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function q0(e,t){switch(ll(t),t.tag){case 1:return Pe(t.type)&&ai(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yr(),K(Te),K(ve),yl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gl(t),null;case 13:if(K(Q),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Gr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(Q),null;case 4:return Yr(),null;case 10:return hl(t.type._context),null;case 22:case 23:return Cl(),null;case 24:return null;default:return null}}var Ps=!1,ye=!1,K0=typeof WeakSet=="function"?WeakSet:Set,T=null;function Mr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Z(e,t,n)}else r.current=null}function xa(e,t,r){try{r()}catch(n){Z(e,t,n)}}var Qu=!1;function J0(e,t){if(ra=ni,e=Od(),ol(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,c=0,d=0,h=e,m=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(u=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===e)break t;if(m===r&&++c===s&&(a=o),m===i&&++d===n&&(u=o),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(na={focusedElem:e,selectionRange:r},ni=!1,T=t;T!==null;)if(t=T,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,T=e;else for(;T!==null;){t=T;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var k=v.memoizedProps,_=v.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?k:Ge(t.type,k),_);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(w){Z(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,T=e;break}T=t.return}return v=Qu,Qu=!1,v}function Rn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&xa(t,r,i)}s=s.next}while(s!==n)}}function Ii(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function wa(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ch(e){var t=e.alternate;t!==null&&(e.alternate=null,Ch(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lt],delete t[Jn],delete t[oa],delete t[P0],delete t[R0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Th(e){return e.tag===5||e.tag===3||e.tag===4}function Yu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Th(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ka(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=oi));else if(n!==4&&(e=e.child,e!==null))for(ka(e,t,r),e=e.sibling;e!==null;)ka(e,t,r),e=e.sibling}function _a(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(_a(e,t,r),e=e.sibling;e!==null;)_a(e,t,r),e=e.sibling}var de=null,Qe=!1;function Ct(e,t,r){for(r=r.child;r!==null;)Ph(e,t,r),r=r.sibling}function Ph(e,t,r){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(Ci,r)}catch{}switch(r.tag){case 5:ye||Mr(r,t);case 6:var n=de,s=Qe;de=null,Ct(e,t,r),de=n,Qe=s,de!==null&&(Qe?(e=de,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):de.removeChild(r.stateNode));break;case 18:de!==null&&(Qe?(e=de,r=r.stateNode,e.nodeType===8?mo(e.parentNode,r):e.nodeType===1&&mo(e,r),Wn(e)):mo(de,r.stateNode));break;case 4:n=de,s=Qe,de=r.stateNode.containerInfo,Qe=!0,Ct(e,t,r),de=n,Qe=s;break;case 0:case 11:case 14:case 15:if(!ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&xa(r,t,o),s=s.next}while(s!==n)}Ct(e,t,r);break;case 1:if(!ye&&(Mr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Z(r,t,a)}Ct(e,t,r);break;case 21:Ct(e,t,r);break;case 22:r.mode&1?(ye=(n=ye)||r.memoizedState!==null,Ct(e,t,r),ye=n):Ct(e,t,r);break;default:Ct(e,t,r)}}function Xu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new K0),t.forEach(function(n){var s=nm.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ke(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:de=a.stateNode,Qe=!1;break e;case 3:de=a.stateNode.containerInfo,Qe=!0;break e;case 4:de=a.stateNode.containerInfo,Qe=!0;break e}a=a.return}if(de===null)throw Error(E(160));Ph(i,o,s),de=null,Qe=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Z(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rh(t,e),t=t.sibling}function Rh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ke(t,e),it(e),n&4){try{Rn(3,e,e.return),Ii(3,e)}catch(k){Z(e,e.return,k)}try{Rn(5,e,e.return)}catch(k){Z(e,e.return,k)}}break;case 1:Ke(t,e),it(e),n&512&&r!==null&&Mr(r,r.return);break;case 5:if(Ke(t,e),it(e),n&512&&r!==null&&Mr(r,r.return),e.flags&32){var s=e.stateNode;try{Mn(s,"")}catch(k){Z(e,e.return,k)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Zc(s,i),qo(a,o);var c=qo(a,i);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?sd(s,h):d==="dangerouslySetInnerHTML"?rd(s,h):d==="children"?Mn(s,h):Ka(s,d,h,c)}switch(a){case"input":Fo(s,i);break;case"textarea":ed(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Fr(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Fr(s,!!i.multiple,i.defaultValue,!0):Fr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Jn]=i}catch(k){Z(e,e.return,k)}}break;case 6:if(Ke(t,e),it(e),n&4){if(e.stateNode===null)throw Error(E(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(k){Z(e,e.return,k)}}break;case 3:if(Ke(t,e),it(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wn(t.containerInfo)}catch(k){Z(e,e.return,k)}break;case 4:Ke(t,e),it(e);break;case 13:Ke(t,e),it(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(El=te())),n&4&&Xu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ye=(c=ye)||d,Ke(t,e),ye=c):Ke(t,e),it(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(T=e,d=e.child;d!==null;){for(h=T=d;T!==null;){switch(m=T,y=m.child,m.tag){case 0:case 11:case 14:case 15:Rn(4,m,m.return);break;case 1:Mr(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(k){Z(n,r,k)}}break;case 5:Mr(m,m.return);break;case 22:if(m.memoizedState!==null){ec(h);continue}}y!==null?(y.return=m,T=y):ec(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=nd("display",o))}catch(k){Z(e,e.return,k)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(k){Z(e,e.return,k)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ke(t,e),it(e),n&4&&Xu(e);break;case 21:break;default:Ke(t,e),it(e)}}function it(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Th(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Mn(s,""),n.flags&=-33);var i=Yu(e);_a(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Yu(e);ka(e,a,o);break;default:throw Error(E(161))}}catch(u){Z(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function G0(e,t,r){T=e,Oh(e)}function Oh(e,t,r){for(var n=(e.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ps;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||ye;a=Ps;var c=ye;if(Ps=o,(ye=u)&&!c)for(T=s;T!==null;)o=T,u=o.child,o.tag===22&&o.memoizedState!==null?tc(s):u!==null?(u.return=o,T=u):tc(s);for(;i!==null;)T=i,Oh(i),i=i.sibling;T=s,Ps=a,ye=c}Zu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):Zu(e)}}function Zu(e){for(;T!==null;){var t=T;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ye||Ii(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ye)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ge(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Uu(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Uu(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Wn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ye||t.flags&512&&wa(t)}catch(m){Z(t,t.return,m)}}if(t===e){T=null;break}if(r=t.sibling,r!==null){r.return=t.return,T=r;break}T=t.return}}function ec(e){for(;T!==null;){var t=T;if(t===e){T=null;break}var r=t.sibling;if(r!==null){r.return=t.return,T=r;break}T=t.return}}function tc(e){for(;T!==null;){var t=T;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ii(4,t)}catch(u){Z(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){Z(t,s,u)}}var i=t.return;try{wa(t)}catch(u){Z(t,i,u)}break;case 5:var o=t.return;try{wa(t)}catch(u){Z(t,o,u)}}}catch(u){Z(t,t.return,u)}if(t===e){T=null;break}var a=t.sibling;if(a!==null){a.return=t.return,T=a;break}T=t.return}}var Q0=Math.ceil,yi=Nt.ReactCurrentDispatcher,jl=Nt.ReactCurrentOwner,Be=Nt.ReactCurrentBatchConfig,F=0,ce=null,ne=null,fe=0,Oe=0,zr=Gt(0),ae=0,es=null,mr=0,Ui=0,Sl=0,On=null,Se=null,El=0,Zr=1/0,mt=null,vi=!1,ba=null,Wt=null,Rs=!1,Ut=null,xi=0,Ln=0,ja=null,Ks=-1,Js=0;function _e(){return F&6?te():Ks!==-1?Ks:Ks=te()}function Ht(e){return e.mode&1?F&2&&fe!==0?fe&-fe:L0.transition!==null?(Js===0&&(Js=gd()),Js):(e=B,e!==0||(e=window.event,e=e===void 0?16:bd(e.type)),e):1}function et(e,t,r,n){if(50<Ln)throw Ln=0,ja=null,Error(E(185));is(e,r,n),(!(F&2)||e!==ce)&&(e===ce&&(!(F&2)&&(Ui|=r),ae===4&&$t(e,fe)),Re(e,n),r===1&&F===0&&!(t.mode&1)&&(Zr=te()+500,Li&&Qt()))}function Re(e,t){var r=e.callbackNode;Lp(e,t);var n=ri(e,e===ce?fe:0);if(n===0)r!==null&&cu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&cu(r),t===1)e.tag===0?O0(rc.bind(null,e)):Bd(rc.bind(null,e)),C0(function(){!(F&6)&&Qt()}),r=null;else{switch(yd(n)){case 1:r=Xa;break;case 4:r=pd;break;case 16:r=ti;break;case 536870912:r=md;break;default:r=ti}r=zh(r,Lh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Lh(e,t){if(Ks=-1,Js=0,F&6)throw Error(E(327));var r=e.callbackNode;if(qr()&&e.callbackNode!==r)return null;var n=ri(e,e===ce?fe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=wi(e,n);else{t=n;var s=F;F|=2;var i=Ah();(ce!==e||fe!==t)&&(mt=null,Zr=te()+500,cr(e,t));do try{Z0();break}catch(a){$h(e,a)}while(!0);dl(),yi.current=i,F=s,ne!==null?t=0:(ce=null,fe=0,t=ae)}if(t!==0){if(t===2&&(s=Yo(e),s!==0&&(n=s,t=Sa(e,s))),t===1)throw r=es,cr(e,0),$t(e,n),Re(e,te()),r;if(t===6)$t(e,n);else{if(s=e.current.alternate,!(n&30)&&!Y0(s)&&(t=wi(e,n),t===2&&(i=Yo(e),i!==0&&(n=i,t=Sa(e,i))),t===1))throw r=es,cr(e,0),$t(e,n),Re(e,te()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(E(345));case 2:sr(e,Se,mt);break;case 3:if($t(e,n),(n&130023424)===n&&(t=El+500-te(),10<t)){if(ri(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){_e(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ia(sr.bind(null,e,Se,mt),t);break}sr(e,Se,mt);break;case 4:if($t(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Ze(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=te()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Q0(n/1960))-n,10<n){e.timeoutHandle=ia(sr.bind(null,e,Se,mt),n);break}sr(e,Se,mt);break;case 5:sr(e,Se,mt);break;default:throw Error(E(329))}}}return Re(e,te()),e.callbackNode===r?Lh.bind(null,e):null}function Sa(e,t){var r=On;return e.current.memoizedState.isDehydrated&&(cr(e,t).flags|=256),e=wi(e,t),e!==2&&(t=Se,Se=r,t!==null&&Ea(t)),e}function Ea(e){Se===null?Se=e:Se.push.apply(Se,e)}function Y0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!tt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $t(e,t){for(t&=~Sl,t&=~Ui,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ze(t),n=1<<r;e[r]=-1,t&=~n}}function rc(e){if(F&6)throw Error(E(327));qr();var t=ri(e,0);if(!(t&1))return Re(e,te()),null;var r=wi(e,t);if(e.tag!==0&&r===2){var n=Yo(e);n!==0&&(t=n,r=Sa(e,n))}if(r===1)throw r=es,cr(e,0),$t(e,t),Re(e,te()),r;if(r===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sr(e,Se,mt),Re(e,te()),null}function Nl(e,t){var r=F;F|=1;try{return e(t)}finally{F=r,F===0&&(Zr=te()+500,Li&&Qt())}}function gr(e){Ut!==null&&Ut.tag===0&&!(F&6)&&qr();var t=F;F|=1;var r=Be.transition,n=B;try{if(Be.transition=null,B=1,e)return e()}finally{B=n,Be.transition=r,F=t,!(F&6)&&Qt()}}function Cl(){Oe=zr.current,K(zr)}function cr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,N0(r)),ne!==null)for(r=ne.return;r!==null;){var n=r;switch(ll(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ai();break;case 3:Yr(),K(Te),K(ve),yl();break;case 5:gl(n);break;case 4:Yr();break;case 13:K(Q);break;case 19:K(Q);break;case 10:hl(n.type._context);break;case 22:case 23:Cl()}r=r.return}if(ce=e,ne=e=Vt(e.current,null),fe=Oe=t,ae=0,es=null,Sl=Ui=mr=0,Se=On=null,lr!==null){for(t=0;t<lr.length;t++)if(r=lr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}lr=null}return e}function $h(e,t){do{var r=ne;try{if(dl(),Hs.current=gi,mi){for(var n=Y.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}mi=!1}if(pr=0,ue=oe=Y=null,Pn=!1,Yn=0,jl.current=null,r===null||r.return===null){ae=1,es=t,ne=null;break}e:{var i=e,o=r.return,a=r,u=t;if(t=fe,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Wu(o);if(y!==null){y.flags&=-257,Hu(y,o,a,i,t),y.mode&1&&Bu(i,c,t),t=y,u=c;var v=t.updateQueue;if(v===null){var k=new Set;k.add(u),t.updateQueue=k}else v.add(u);break e}else{if(!(t&1)){Bu(i,c,t),Tl();break e}u=Error(E(426))}}else if(J&&a.mode&1){var _=Wu(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Hu(_,o,a,i,t),ul(Xr(u,a));break e}}i=u=Xr(u,a),ae!==4&&(ae=2),On===null?On=[i]:On.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=yh(i,u,t);Iu(i,g);break e;case 1:a=u;var p=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Wt===null||!Wt.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=vh(i,a,t);Iu(i,w);break e}}i=i.return}while(i!==null)}Uh(r)}catch(b){t=b,ne===r&&r!==null&&(ne=r=r.return);continue}break}while(!0)}function Ah(){var e=yi.current;return yi.current=gi,e===null?gi:e}function Tl(){(ae===0||ae===3||ae===2)&&(ae=4),ce===null||!(mr&268435455)&&!(Ui&268435455)||$t(ce,fe)}function wi(e,t){var r=F;F|=2;var n=Ah();(ce!==e||fe!==t)&&(mt=null,cr(e,t));do try{X0();break}catch(s){$h(e,s)}while(!0);if(dl(),F=r,yi.current=n,ne!==null)throw Error(E(261));return ce=null,fe=0,ae}function X0(){for(;ne!==null;)Ih(ne)}function Z0(){for(;ne!==null&&!jp();)Ih(ne)}function Ih(e){var t=Mh(e.alternate,e,Oe);e.memoizedProps=e.pendingProps,t===null?Uh(e):ne=t,jl.current=null}function Uh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=q0(r,t),r!==null){r.flags&=32767,ne=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ae=6,ne=null;return}}else if(r=V0(r,t,Oe),r!==null){ne=r;return}if(t=t.sibling,t!==null){ne=t;return}ne=t=e}while(t!==null);ae===0&&(ae=5)}function sr(e,t,r){var n=B,s=Be.transition;try{Be.transition=null,B=1,em(e,t,r,n)}finally{Be.transition=s,B=n}return null}function em(e,t,r,n){do qr();while(Ut!==null);if(F&6)throw Error(E(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if($p(e,i),e===ce&&(ne=ce=null,fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Rs||(Rs=!0,zh(ti,function(){return qr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Be.transition,Be.transition=null;var o=B;B=1;var a=F;F|=4,jl.current=null,J0(e,r),Rh(r,e),w0(na),ni=!!ra,na=ra=null,e.current=r,G0(r),Sp(),F=a,B=o,Be.transition=i}else e.current=r;if(Rs&&(Rs=!1,Ut=e,xi=s),i=e.pendingLanes,i===0&&(Wt=null),Cp(r.stateNode),Re(e,te()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(vi)throw vi=!1,e=ba,ba=null,e;return xi&1&&e.tag!==0&&qr(),i=e.pendingLanes,i&1?e===ja?Ln++:(Ln=0,ja=e):Ln=0,Qt(),null}function qr(){if(Ut!==null){var e=yd(xi),t=Be.transition,r=B;try{if(Be.transition=null,B=16>e?16:e,Ut===null)var n=!1;else{if(e=Ut,Ut=null,xi=0,F&6)throw Error(E(331));var s=F;for(F|=4,T=e.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(T=c;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:Rn(8,d,i)}var h=d.child;if(h!==null)h.return=d,T=h;else for(;T!==null;){d=T;var m=d.sibling,y=d.return;if(Ch(d),d===c){T=null;break}if(m!==null){m.return=y,T=m;break}T=y}}}var v=i.alternate;if(v!==null){var k=v.child;if(k!==null){v.child=null;do{var _=k.sibling;k.sibling=null,k=_}while(k!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Rn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,T=g;break e}T=i.return}}var p=e.current;for(T=p;T!==null;){o=T;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,T=f;else e:for(o=p;T!==null;){if(a=T,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ii(9,a)}}catch(b){Z(a,a.return,b)}if(a===o){T=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,T=w;break e}T=a.return}}if(F=s,Qt(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(Ci,e)}catch{}n=!0}return n}finally{B=r,Be.transition=t}}return!1}function nc(e,t,r){t=Xr(r,t),t=yh(e,t,1),e=Bt(e,t,1),t=_e(),e!==null&&(is(e,1,t),Re(e,t))}function Z(e,t,r){if(e.tag===3)nc(e,e,r);else for(;t!==null;){if(t.tag===3){nc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wt===null||!Wt.has(n))){e=Xr(r,e),e=vh(t,e,1),t=Bt(t,e,1),e=_e(),t!==null&&(is(t,1,e),Re(t,e));break}}t=t.return}}function tm(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_e(),e.pingedLanes|=e.suspendedLanes&r,ce===e&&(fe&r)===r&&(ae===4||ae===3&&(fe&130023424)===fe&&500>te()-El?cr(e,0):Sl|=r),Re(e,t)}function Dh(e,t){t===0&&(e.mode&1?(t=ks,ks<<=1,!(ks&130023424)&&(ks=4194304)):t=1);var r=_e();e=jt(e,t),e!==null&&(is(e,t,r),Re(e,r))}function rm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Dh(e,r)}function nm(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(t),Dh(e,r)}var Mh;Mh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Te.current)Ne=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ne=!1,H0(e,t,r);Ne=!!(e.flags&131072)}else Ne=!1,J&&t.flags&1048576&&Wd(t,ci,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qs(e,t),e=t.pendingProps;var s=Jr(t,ve.current);Vr(t,r),s=xl(null,t,n,e,s,r);var i=wl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pe(n)?(i=!0,li(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pl(t),s.updater=Ai,t.stateNode=s,s._reactInternals=t,ha(t,n,e,r),t=ma(null,t,n,!0,i,r)):(t.tag=0,J&&i&&al(t),ke(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=im(n),e=Ge(n,e),s){case 0:t=pa(null,t,n,e,r);break e;case 1:t=Ku(null,t,n,e,r);break e;case 11:t=Vu(null,t,n,e,r);break e;case 14:t=qu(null,t,n,Ge(n.type,e),r);break e}throw Error(E(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ge(n,s),pa(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ge(n,s),Ku(e,t,n,s,r);case 3:e:{if(_h(t),e===null)throw Error(E(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Gd(e,t),fi(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Xr(Error(E(423)),t),t=Ju(e,t,n,r,s);break e}else if(n!==s){s=Xr(Error(E(424)),t),t=Ju(e,t,n,r,s);break e}else for(Le=Ft(t.stateNode.containerInfo.firstChild),$e=t,J=!0,Xe=null,r=Kd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Gr(),n===s){t=St(e,t,r);break e}ke(e,t,n,r)}t=t.child}return t;case 5:return Qd(t),e===null&&ua(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,sa(n,s)?o=null:i!==null&&sa(n,i)&&(t.flags|=32),kh(e,t),ke(e,t,o,r),t.child;case 6:return e===null&&ua(t),null;case 13:return bh(e,t,r);case 4:return ml(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qr(t,null,n,r):ke(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ge(n,s),Vu(e,t,n,s,r);case 7:return ke(e,t,t.pendingProps,r),t.child;case 8:return ke(e,t,t.pendingProps.children,r),t.child;case 12:return ke(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,H(di,n._currentValue),n._currentValue=o,i!==null)if(tt(i.value,o)){if(i.children===s.children&&!Te.current){t=St(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=wt(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),ca(i.return,r,t),a.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),ca(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ke(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Vr(t,r),s=He(s),n=n(s),t.flags|=1,ke(e,t,n,r),t.child;case 14:return n=t.type,s=Ge(n,t.pendingProps),s=Ge(n.type,s),qu(e,t,n,s,r);case 15:return xh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ge(n,s),qs(e,t),t.tag=1,Pe(n)?(e=!0,li(t)):e=!1,Vr(t,r),gh(t,n,s),ha(t,n,s,r),ma(null,t,n,!0,e,r);case 19:return jh(e,t,r);case 22:return wh(e,t,r)}throw Error(E(156,t.tag))};function zh(e,t){return fd(e,t)}function sm(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fe(e,t,r,n){return new sm(e,t,r,n)}function Pl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function im(e){if(typeof e=="function")return Pl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ga)return 11;if(e===Qa)return 14}return 2}function Vt(e,t){var r=e.alternate;return r===null?(r=Fe(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gs(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Pl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Pr:return dr(r.children,s,i,t);case Ja:o=8,s|=8;break;case Io:return e=Fe(12,r,t,s|2),e.elementType=Io,e.lanes=i,e;case Uo:return e=Fe(13,r,t,s),e.elementType=Uo,e.lanes=i,e;case Do:return e=Fe(19,r,t,s),e.elementType=Do,e.lanes=i,e;case Qc:return Di(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Jc:o=10;break e;case Gc:o=9;break e;case Ga:o=11;break e;case Qa:o=14;break e;case Rt:o=16,n=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=Fe(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function dr(e,t,r,n){return e=Fe(7,e,n,t),e.lanes=r,e}function Di(e,t,r,n){return e=Fe(22,e,n,t),e.elementType=Qc,e.lanes=r,e.stateNode={isHidden:!1},e}function bo(e,t,r){return e=Fe(6,e,null,t),e.lanes=r,e}function jo(e,t,r){return t=Fe(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function om(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=no(0),this.expirationTimes=no(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Rl(e,t,r,n,s,i,o,a,u){return e=new om(e,t,r,a,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Fe(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pl(i),e}function am(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Fh(e){if(!e)return Kt;e=e._reactInternals;e:{if(vr(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var r=e.type;if(Pe(r))return Fd(e,r,t)}return t}function Bh(e,t,r,n,s,i,o,a,u){return e=Rl(r,n,!0,e,s,i,o,a,u),e.context=Fh(null),r=e.current,n=_e(),s=Ht(r),i=wt(n,s),i.callback=t??null,Bt(r,i,s),e.current.lanes=s,is(e,s,n),Re(e,n),e}function Mi(e,t,r,n){var s=t.current,i=_e(),o=Ht(s);return r=Fh(r),t.context===null?t.context=r:t.pendingContext=r,t=wt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Bt(s,t,o),e!==null&&(et(e,s,o,i),Ws(e,s,o)),o}function ki(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ol(e,t){sc(e,t),(e=e.alternate)&&sc(e,t)}function lm(){return null}var Wh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ll(e){this._internalRoot=e}zi.prototype.render=Ll.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));Mi(e,t,null,null)};zi.prototype.unmount=Ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gr(function(){Mi(null,e,null,null)}),t[bt]=null}};function zi(e){this._internalRoot=e}zi.prototype.unstable_scheduleHydration=function(e){if(e){var t=wd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Lt.length&&t!==0&&t<Lt[r].priority;r++);Lt.splice(r,0,e),r===0&&_d(e)}};function $l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ic(){}function um(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=ki(o);i.call(c)}}var o=Bh(t,n,e,0,null,!1,!1,"",ic);return e._reactRootContainer=o,e[bt]=o.current,qn(e.nodeType===8?e.parentNode:e),gr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=ki(u);a.call(c)}}var u=Rl(e,0,!1,null,null,!1,!1,"",ic);return e._reactRootContainer=u,e[bt]=u.current,qn(e.nodeType===8?e.parentNode:e),gr(function(){Mi(t,u,r,n)}),u}function Bi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=ki(o);a.call(u)}}Mi(t,o,e,s)}else o=um(r,t,e,s,n);return ki(o)}vd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=_n(t.pendingLanes);r!==0&&(Za(t,r|1),Re(t,te()),!(F&6)&&(Zr=te()+500,Qt()))}break;case 13:gr(function(){var n=jt(e,1);if(n!==null){var s=_e();et(n,e,1,s)}}),Ol(e,1)}};el=function(e){if(e.tag===13){var t=jt(e,134217728);if(t!==null){var r=_e();et(t,e,134217728,r)}Ol(e,134217728)}};xd=function(e){if(e.tag===13){var t=Ht(e),r=jt(e,t);if(r!==null){var n=_e();et(r,e,t,n)}Ol(e,t)}};wd=function(){return B};kd=function(e,t){var r=B;try{return B=e,t()}finally{B=r}};Jo=function(e,t,r){switch(t){case"input":if(Fo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Oi(n);if(!s)throw Error(E(90));Xc(n),Fo(n,s)}}}break;case"textarea":ed(e,r);break;case"select":t=r.value,t!=null&&Fr(e,!!r.multiple,t,!1)}};ad=Nl;ld=gr;var cm={usingClientEntryPoint:!1,Events:[as,$r,Oi,id,od,Nl]},yn={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dm={bundleType:yn.bundleType,version:yn.version,rendererPackageName:yn.rendererPackageName,rendererConfig:yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dd(e),e===null?null:e.stateNode},findFiberByHostInstance:yn.findFiberByHostInstance||lm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{Ci=Os.inject(dm),ut=Os}catch{}}Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cm;Ie.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$l(t))throw Error(E(200));return am(e,t,null,r)};Ie.createRoot=function(e,t){if(!$l(e))throw Error(E(299));var r=!1,n="",s=Wh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Rl(e,1,!1,null,null,r,!1,n,s),e[bt]=t.current,qn(e.nodeType===8?e.parentNode:e),new Ll(t)};Ie.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=dd(t),e=e===null?null:e.stateNode,e};Ie.flushSync=function(e){return gr(e)};Ie.hydrate=function(e,t,r){if(!Fi(t))throw Error(E(200));return Bi(null,e,t,!0,r)};Ie.hydrateRoot=function(e,t,r){if(!$l(e))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Wh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Bh(t,null,e,1,r??null,s,!1,i,o),e[bt]=t.current,qn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new zi(t)};Ie.render=function(e,t,r){if(!Fi(t))throw Error(E(200));return Bi(null,e,t,!1,r)};Ie.unmountComponentAtNode=function(e){if(!Fi(e))throw Error(E(40));return e._reactRootContainer?(gr(function(){Bi(null,null,e,!1,function(){e._reactRootContainer=null,e[bt]=null})}),!0):!1};Ie.unstable_batchedUpdates=Nl;Ie.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Fi(r))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return Bi(e,t,r,!1,n)};Ie.version="18.3.1-next-f1338f8080-20240426";function Hh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hh)}catch(e){console.error(e)}}Hh(),Hc.exports=Ie;var hm=Hc.exports,Vh,oc=hm;Vh=oc.createRoot,oc.hydrateRoot;/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ac="popstate";function fm(e={}){function t(s,i){let{pathname:o="/",search:a="",hash:u=""}=xr(s.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Na("",{pathname:o,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let u=s.location.href,c=u.indexOf("#");a=c===-1?u:u.slice(0,c)}return a+"#"+(typeof i=="string"?i:ts(i))}function n(s,i){qe(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return mm(t,r,n,e)}function G(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qe(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pm(){return Math.random().toString(36).substring(2,10)}function lc(e,t){return{usr:e.state,key:e.key,idx:t}}function Na(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?xr(t):t,state:r,key:t&&t.key||n||pm()}}function ts({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function mm(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a="POP",u=null,c=d();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function d(){return(o.state||{idx:null}).idx}function h(){a="POP";let _=d(),g=_==null?null:_-c;c=_,u&&u({action:a,location:k.location,delta:g})}function m(_,g){a="PUSH";let p=Na(k.location,_,g);r&&r(p,_),c=d()+1;let f=lc(p,c),w=k.createHref(p);try{o.pushState(f,"",w)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(w)}i&&u&&u({action:a,location:k.location,delta:1})}function y(_,g){a="REPLACE";let p=Na(k.location,_,g);r&&r(p,_),c=d();let f=lc(p,c),w=k.createHref(p);o.replaceState(f,"",w),i&&u&&u({action:a,location:k.location,delta:0})}function v(_){return gm(_)}let k={get action(){return a},get location(){return e(s,o)},listen(_){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(ac,h),u=_,()=>{s.removeEventListener(ac,h),u=null}},createHref(_){return t(s,_)},createURL:v,encodeLocation(_){let g=v(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:y,go(_){return o.go(_)}};return k}function gm(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),G(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:ts(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function qh(e,t,r="/"){return ym(e,t,r,!1)}function ym(e,t,r,n){let s=typeof t=="string"?xr(t):t,i=Et(s.pathname||"/",r);if(i==null)return null;let o=Kh(e);vm(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=Tm(i);a=Nm(o[u],c,n)}return a}function Kh(e,t=[],r=[],n="",s=!1){let i=(o,a,u=s,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&u)return;G(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let h=kt([n,d.relativePath]),m=r.concat(d);o.children&&o.children.length>0&&(G(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Kh(o.children,t,m,h,u)),!(o.path==null&&!o.index)&&t.push({path:h,score:Sm(h,o.index),routesMeta:m})};return e.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,a);else for(let c of Jh(o.path))i(o,a,!0,c)}),t}function Jh(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Jh(n.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function vm(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Em(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var xm=/^:[\w-]+$/,wm=3,km=2,_m=1,bm=10,jm=-2,uc=e=>e==="*";function Sm(e,t){let r=e.split("/"),n=r.length;return r.some(uc)&&(n+=jm),t&&(n+=km),r.filter(s=>!uc(s)).reduce((s,i)=>s+(xm.test(i)?wm:i===""?_m:bm),n)}function Em(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Nm(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let u=n[a],c=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=_i({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=_i({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:kt([i,h.pathname]),pathnameBase:Lm(kt([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=kt([i,h.pathnameBase]))}return o}function _i(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Cm(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,{paramName:d,isOptional:h},m)=>{if(d==="*"){let v=a[m]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const y=a[m];return h&&!y?c[d]=void 0:c[d]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function Cm(e,t=!1,r=!0){qe(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(n.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Tm(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qe(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Et(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Pm(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?xr(e):e;return{pathname:r?r.startsWith("/")?r:Rm(r,t):t,search:$m(n),hash:Am(s)}}function Rm(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function So(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Om(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Al(e){let t=Om(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Il(e,t,r,n=!1){let s;typeof e=="string"?s=xr(e):(s={...e},G(!s.pathname||!s.pathname.includes("?"),So("?","pathname","search",s)),G(!s.pathname||!s.pathname.includes("#"),So("#","pathname","hash",s)),G(!s.search||!s.search.includes("#"),So("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}a=h>=0?t[h]:"/"}let u=Pm(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var kt=e=>e.join("/").replace(/\/\/+/g,"/"),Lm=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$m=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Am=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Im(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Gh=["POST","PUT","PATCH","DELETE"];new Set(Gh);var Um=["GET",...Gh];new Set(Um);var on=x.createContext(null);on.displayName="DataRouter";var Wi=x.createContext(null);Wi.displayName="DataRouterState";x.createContext(!1);var Qh=x.createContext({isTransitioning:!1});Qh.displayName="ViewTransition";var Dm=x.createContext(new Map);Dm.displayName="Fetchers";var Mm=x.createContext(null);Mm.displayName="Await";var rt=x.createContext(null);rt.displayName="Navigation";var us=x.createContext(null);us.displayName="Location";var nt=x.createContext({outlet:null,matches:[],isDataRoute:!1});nt.displayName="Route";var Ul=x.createContext(null);Ul.displayName="RouteError";function zm(e,{relative:t}={}){G(an(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=x.useContext(rt),{hash:s,pathname:i,search:o}=cs(e,{relative:t}),a=i;return r!=="/"&&(a=i==="/"?r:kt([r,i])),n.createHref({pathname:a,search:o,hash:s})}function an(){return x.useContext(us)!=null}function st(){return G(an(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(us).location}var Yh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xh(e){x.useContext(rt).static||x.useLayoutEffect(e)}function Dl(){let{isDataRoute:e}=x.useContext(nt);return e?tg():Fm()}function Fm(){G(an(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(on),{basename:t,navigator:r}=x.useContext(rt),{matches:n}=x.useContext(nt),{pathname:s}=st(),i=JSON.stringify(Al(n)),o=x.useRef(!1);return Xh(()=>{o.current=!0}),x.useCallback((u,c={})=>{if(qe(o.current,Yh),!o.current)return;if(typeof u=="number"){r.go(u);return}let d=Il(u,JSON.parse(i),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:kt([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,i,s,e])}var Bm=x.createContext(null);function Wm(e){let t=x.useContext(nt).outlet;return x.useMemo(()=>t&&x.createElement(Bm.Provider,{value:e},t),[t,e])}function cs(e,{relative:t}={}){let{matches:r}=x.useContext(nt),{pathname:n}=st(),s=JSON.stringify(Al(r));return x.useMemo(()=>Il(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function Hm(e,t){return Zh(e,t)}function Zh(e,t,r,n,s){var p;G(an(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(rt),{matches:o}=x.useContext(nt),a=o[o.length-1],u=a?a.params:{},c=a?a.pathname:"/",d=a?a.pathnameBase:"/",h=a&&a.route;{let f=h&&h.path||"";ef(c,!h||f.endsWith("*")||f.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${f}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${f}"> to <Route path="${f==="/"?"*":`${f}/*`}">.`)}let m=st(),y;if(t){let f=typeof t=="string"?xr(t):t;G(d==="/"||((p=f.pathname)==null?void 0:p.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${f.pathname}" was given in the \`location\` prop.`),y=f}else y=m;let v=y.pathname||"/",k=v;if(d!=="/"){let f=d.replace(/^\//,"").split("/");k="/"+v.replace(/^\//,"").split("/").slice(f.length).join("/")}let _=qh(e,{pathname:k});qe(h||_!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),qe(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=Gm(_&&_.map(f=>Object.assign({},f,{params:Object.assign({},u,f.params),pathname:kt([d,i.encodeLocation?i.encodeLocation(f.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?d:kt([d,i.encodeLocation?i.encodeLocation(f.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:f.pathnameBase])})),o,r,n,s);return t&&g?x.createElement(us.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},g):g}function Vm(){let e=eg(),t=Im(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:i},"ErrorBoundary")," or"," ",x.createElement("code",{style:i},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,o)}var qm=x.createElement(Vm,null),Km=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(nt.Provider,{value:this.props.routeContext},x.createElement(Ul.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Jm({routeContext:e,match:t,children:r}){let n=x.useContext(on);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(nt.Provider,{value:e},r)}function Gm(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r==null?void 0:r.errors;if(o!=null){let c=i.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);G(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let a=!1,u=-1;if(r)for(let c=0;c<i.length;c++){let d=i[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:m}=r,y=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){a=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((c,d,h)=>{let m,y=!1,v=null,k=null;r&&(m=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||qm,a&&(u<0&&h===0?(ef("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,k=null):u===h&&(y=!0,k=d.route.hydrateFallbackElement||null)));let _=t.concat(i.slice(0,h+1)),g=()=>{let p;return m?p=v:y?p=k:d.route.Component?p=x.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=c,x.createElement(Jm,{match:d,routeContext:{outlet:c,matches:_,isDataRoute:r!=null},children:p})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?x.createElement(Km,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:g(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:n}):g()},null)}function Ml(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qm(e){let t=x.useContext(on);return G(t,Ml(e)),t}function Ym(e){let t=x.useContext(Wi);return G(t,Ml(e)),t}function Xm(e){let t=x.useContext(nt);return G(t,Ml(e)),t}function zl(e){let t=Xm(e),r=t.matches[t.matches.length-1];return G(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Zm(){return zl("useRouteId")}function eg(){var n;let e=x.useContext(Ul),t=Ym("useRouteError"),r=zl("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function tg(){let{router:e}=Qm("useNavigate"),t=zl("useNavigate"),r=x.useRef(!1);return Xh(()=>{r.current=!0}),x.useCallback(async(s,i={})=>{qe(r.current,Yh),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var cc={};function ef(e,t,r){!t&&!cc[e]&&(cc[e]=!0,qe(!1,r))}x.memo(rg);function rg({routes:e,future:t,state:r,unstable_onError:n}){return Zh(e,void 0,r,n,t)}function tf({to:e,replace:t,state:r,relative:n}){G(an(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=x.useContext(rt);qe(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=x.useContext(nt),{pathname:o}=st(),a=Dl(),u=Il(e,Al(i),o,n==="path"),c=JSON.stringify(u);return x.useEffect(()=>{a(JSON.parse(c),{replace:t,state:r,relative:n})},[a,c,n,t,r]),null}function rf(e){return Wm(e.context)}function ft(e){G(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ng({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){G(!an(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),a=x.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof r=="string"&&(r=xr(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:m="default"}=r,y=x.useMemo(()=>{let v=Et(u,o);return v==null?null:{location:{pathname:v,search:c,hash:d,state:h,key:m},navigationType:n}},[o,u,c,d,h,m,n]);return qe(y!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:x.createElement(rt.Provider,{value:a},x.createElement(us.Provider,{children:t,value:y}))}function sg({children:e,location:t}){return Hm(Ca(e),t)}function Ca(e,t=[]){let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let i=[...t,s];if(n.type===x.Fragment){r.push.apply(r,Ca(n.props.children,i));return}G(n.type===ft,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),G(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Ca(n.props.children,i)),r.push(o)}),r}var Qs="get",Ys="application/x-www-form-urlencoded";function Hi(e){return e!=null&&typeof e.tagName=="string"}function ig(e){return Hi(e)&&e.tagName.toLowerCase()==="button"}function og(e){return Hi(e)&&e.tagName.toLowerCase()==="form"}function ag(e){return Hi(e)&&e.tagName.toLowerCase()==="input"}function lg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ug(e,t){return e.button===0&&(!t||t==="_self")&&!lg(e)}var Ls=null;function cg(){if(Ls===null)try{new FormData(document.createElement("form"),0),Ls=!1}catch{Ls=!0}return Ls}var dg=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eo(e){return e!=null&&!dg.has(e)?(qe(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ys}"`),null):e}function hg(e,t){let r,n,s,i,o;if(og(e)){let a=e.getAttribute("action");n=a?Et(a,t):null,r=e.getAttribute("method")||Qs,s=Eo(e.getAttribute("enctype"))||Ys,i=new FormData(e)}else if(ig(e)||ag(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||a.getAttribute("action");if(n=u?Et(u,t):null,r=e.getAttribute("formmethod")||a.getAttribute("method")||Qs,s=Eo(e.getAttribute("formenctype"))||Eo(a.getAttribute("enctype"))||Ys,i=new FormData(a,e),!cg()){let{name:c,type:d,value:h}=e;if(d==="image"){let m=c?`${c}.`:"";i.append(`${m}x`,"0"),i.append(`${m}y`,"0")}else c&&i.append(c,h)}}else{if(Hi(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Qs,n=null,s=Ys,o=e}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fl(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fg(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Et(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function pg(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mg(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function gg(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let o=await pg(i,r);return o.links?o.links():[]}return[]}));return wg(n.flat(1).filter(mg).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function dc(e,t,r,n,s,i){let o=(u,c)=>r[c]?u.route.id!==r[c].route.id:!0,a=(u,c)=>{var d;return r[c].pathname!==u.pathname||((d=r[c].route.path)==null?void 0:d.endsWith("*"))&&r[c].params["*"]!==u.params["*"]};return i==="assets"?t.filter((u,c)=>o(u,c)||a(u,c)):i==="data"?t.filter((u,c)=>{var h;let d=n.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(o(u,c)||a(u,c))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function yg(e,t,{includeHydrateFallback:r}={}){return vg(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function vg(e){return[...new Set(e)]}function xg(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function wg(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(xg(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function nf(){let e=x.useContext(on);return Fl(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function kg(){let e=x.useContext(Wi);return Fl(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Bl=x.createContext(void 0);Bl.displayName="FrameworkContext";function sf(){let e=x.useContext(Bl);return Fl(e,"You must render this element inside a <HydratedRouter> element"),e}function _g(e,t){let r=x.useContext(Bl),[n,s]=x.useState(!1),[i,o]=x.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=t,m=x.useRef(null);x.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let k=g=>{g.forEach(p=>{o(p.isIntersecting)})},_=new IntersectionObserver(k,{threshold:.5});return m.current&&_.observe(m.current),()=>{_.disconnect()}}},[e]),x.useEffect(()=>{if(n){let k=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(k)}}},[n]);let y=()=>{s(!0)},v=()=>{s(!1),o(!1)};return r?e!=="intent"?[i,m,{}]:[i,m,{onFocus:vn(a,y),onBlur:vn(u,v),onMouseEnter:vn(c,y),onMouseLeave:vn(d,v),onTouchStart:vn(h,y)}]:[!1,m,{}]}function vn(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function bg({page:e,...t}){let{router:r}=nf(),n=x.useMemo(()=>qh(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?x.createElement(Sg,{page:e,matches:n,...t}):null}function jg(e){let{manifest:t,routeModules:r}=sf(),[n,s]=x.useState([]);return x.useEffect(()=>{let i=!1;return gg(e,t,r).then(o=>{i||s(o)}),()=>{i=!0}},[e,t,r]),n}function Sg({page:e,matches:t,...r}){let n=st(),{manifest:s,routeModules:i}=sf(),{basename:o}=nf(),{loaderData:a,matches:u}=kg(),c=x.useMemo(()=>dc(e,t,u,s,n,"data"),[e,t,u,s,n]),d=x.useMemo(()=>dc(e,t,u,s,n,"assets"),[e,t,u,s,n]),h=x.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let v=new Set,k=!1;if(t.forEach(g=>{var f;let p=s.routes[g.route.id];!p||!p.hasLoader||(!c.some(w=>w.route.id===g.route.id)&&g.route.id in a&&((f=i[g.route.id])!=null&&f.shouldRevalidate)||p.hasClientLoader?k=!0:v.add(g.route.id))}),v.size===0)return[];let _=fg(e,o,"data");return k&&v.size>0&&_.searchParams.set("_routes",t.filter(g=>v.has(g.route.id)).map(g=>g.route.id).join(",")),[_.pathname+_.search]},[o,a,n,s,c,t,e,i]),m=x.useMemo(()=>yg(d,s),[d,s]),y=jg(d);return x.createElement(x.Fragment,null,h.map(v=>x.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),m.map(v=>x.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),y.map(({key:v,link:k})=>x.createElement("link",{key:v,nonce:r.nonce,...k})))}function Eg(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var of=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{of&&(window.__reactRouterVersion="7.9.3")}catch{}function Ng({basename:e,children:t,window:r}){let n=x.useRef();n.current==null&&(n.current=fm({window:r,v5Compat:!0}));let s=n.current,[i,o]=x.useState({action:s.action,location:s.location}),a=x.useCallback(u=>{x.startTransition(()=>o(u))},[o]);return x.useLayoutEffect(()=>s.listen(a),[s,a]),x.createElement(ng,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var af=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,he=x.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:a,target:u,to:c,preventScrollReset:d,viewTransition:h,...m},y){let{basename:v}=x.useContext(rt),k=typeof c=="string"&&af.test(c),_,g=!1;if(typeof c=="string"&&k&&(_=c,of))try{let R=new URL(window.location.href),P=c.startsWith("//")?new URL(R.protocol+c):new URL(c),U=Et(P.pathname,v);P.origin===R.origin&&U!=null?c=U+P.search+P.hash:g=!0}catch{qe(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=zm(c,{relative:s}),[f,w,b]=_g(n,m),j=Rg(c,{replace:o,state:a,target:u,preventScrollReset:d,relative:s,viewTransition:h});function N(R){t&&t(R),R.defaultPrevented||j(R)}let S=x.createElement("a",{...m,...b,href:_||p,onClick:g||i?t:N,ref:Eg(y,w),target:u,"data-discover":!k&&r==="render"?"true":void 0});return f&&!k?x.createElement(x.Fragment,null,S,x.createElement(bg,{page:p})):S});he.displayName="Link";var Cg=x.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:a,children:u,...c},d){let h=cs(o,{relative:c.relative}),m=st(),y=x.useContext(Wi),{navigator:v,basename:k}=x.useContext(rt),_=y!=null&&Ig(h)&&a===!0,g=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,p=m.pathname,f=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(p=p.toLowerCase(),f=f?f.toLowerCase():null,g=g.toLowerCase()),f&&k&&(f=Et(f,k)||f);const w=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let b=p===g||!s&&p.startsWith(g)&&p.charAt(w)==="/",j=f!=null&&(f===g||!s&&f.startsWith(g)&&f.charAt(g.length)==="/"),N={isActive:b,isPending:j,isTransitioning:_},S=b?t:void 0,R;typeof n=="function"?R=n(N):R=[n,b?"active":null,j?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let P=typeof i=="function"?i(N):i;return x.createElement(he,{...c,"aria-current":S,className:R,ref:d,style:P,to:o,viewTransition:a},typeof u=="function"?u(N):u)});Cg.displayName="NavLink";var Tg=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:o=Qs,action:a,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:h,...m},y)=>{let v=$g(),k=Ag(a,{relative:c}),_=o.toLowerCase()==="get"?"get":"post",g=typeof a=="string"&&af.test(a),p=f=>{if(u&&u(f),f.defaultPrevented)return;f.preventDefault();let w=f.nativeEvent.submitter,b=(w==null?void 0:w.getAttribute("formmethod"))||o;v(w||f.currentTarget,{fetcherKey:t,method:b,navigate:r,replace:s,state:i,relative:c,preventScrollReset:d,viewTransition:h})};return x.createElement("form",{ref:y,method:_,action:k,onSubmit:n?u:p,...m,"data-discover":!g&&e==="render"?"true":void 0})});Tg.displayName="Form";function Pg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lf(e){let t=x.useContext(on);return G(t,Pg(e)),t}function Rg(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o}={}){let a=Dl(),u=st(),c=cs(e,{relative:i});return x.useCallback(d=>{if(ug(d,t)){d.preventDefault();let h=r!==void 0?r:ts(u)===ts(c);a(e,{replace:h,state:n,preventScrollReset:s,relative:i,viewTransition:o})}},[u,a,c,r,n,t,e,s,i,o])}var Og=0,Lg=()=>`__${String(++Og)}__`;function $g(){let{router:e}=lf("useSubmit"),{basename:t}=x.useContext(rt),r=Zm();return x.useCallback(async(n,s={})=>{let{action:i,method:o,encType:a,formData:u,body:c}=hg(n,t);if(s.navigate===!1){let d=s.fetcherKey||Lg();await e.fetch(d,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:c,formMethod:s.method||o,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:c,formMethod:s.method||o,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function Ag(e,{relative:t}={}){let{basename:r}=x.useContext(rt),n=x.useContext(nt);G(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...cs(e||".",{relative:t})},o=st();if(e==null){i.search=o.search;let a=new URLSearchParams(i.search),u=a.getAll("index");if(u.some(d=>d==="")){a.delete("index"),u.filter(h=>h).forEach(h=>a.append("index",h));let d=a.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:kt([r,i.pathname])),ts(i)}function Ig(e,{relative:t}={}){let r=x.useContext(Qh);G(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=lf("useViewTransitionState"),s=cs(e,{relative:t});if(!r.isTransitioning)return!1;let i=Et(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Et(r.nextLocation.pathname,n)||r.nextLocation.pathname;return _i(s.pathname,o)!=null||_i(s.pathname,i)!=null}const Ug="modulepreload",Dg=function(e){return"/Groovava-ai-assisted/"+e},hc={},ds=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=Dg(u),u in hc)return;hc[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Ug,c||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((m,y)=>{h.addEventListener("load",m),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Mg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ds(async()=>{const{default:n}=await Promise.resolve().then(()=>ln);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Wl extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class zg extends Wl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class fc extends Wl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class pc extends Wl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ta;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ta||(Ta={}));var Fg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};class Bg{constructor(t,{headers:r={},customFetch:n,region:s=Ta.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Mg(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Fg(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:u}=r;u||(u=this.region);const c=new URL(`${this.url}/${t}`);u&&u!=="any"&&(a["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(k=>{throw new zg(k)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new fc(h);if(!h.ok)throw new pc(h);let y=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return y==="application/json"?v=yield h.json():y==="application/octet-stream"?v=yield h.blob():y==="text/event-stream"?v=h:y==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof pc||s instanceof fc?s.context:void 0}}})}}var Ee={},Hl={},Vi={},hs={},qi={},Ki={},Wg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},en=Wg();const Hg=en.fetch,uf=en.fetch.bind(en),cf=en.Headers,Vg=en.Request,qg=en.Response,ln=Object.freeze(Object.defineProperty({__proto__:null,Headers:cf,Request:Vg,Response:qg,default:uf,fetch:Hg},Symbol.toStringTag,{value:"Module"})),Kg=zf(ln);var Ji={};Object.defineProperty(Ji,"__esModule",{value:!0});let Jg=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ji.default=Jg;var df=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ki,"__esModule",{value:!0});const Gg=df(Kg),Qg=df(Ji);let Yg=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Gg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,u,c;let d=null,h=null,m=null,y=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=p:h=JSON.parse(p))}const _=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),g=(u=i.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");_&&g&&g.length>1&&(m=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,y=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const _=await i.text();try{d=JSON.parse(_),Array.isArray(d)&&i.status===404&&(h=[],d=null,y=200,v="OK")}catch{i.status===404&&_===""?(y=204,v="No Content"):d={message:_}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,y=200,v="OK"),d&&this.shouldThrowOnError)throw new Qg.default(d)}return{error:d,data:h,count:m,status:y,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Ki.default=Yg;var Xg=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qi,"__esModule",{value:!0});const Zg=Xg(Ki);let ey=class extends Zg.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const u=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};qi.default=ey;var ty=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hs,"__esModule",{value:!0});const ry=ty(qi);let ny=class extends ry.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};hs.default=ny;var sy=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vi,"__esModule",{value:!0});const xn=sy(hs);let iy=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new xn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,u)=>a.concat(Object.keys(u)),[]);if(o.length>0){const a=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",a.join(","))}}return new xn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new xn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new xn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new xn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Vi.default=iy;var hf=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hl,"__esModule",{value:!0});const oy=hf(Vi),ay=hf(hs);let ly=class ff{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new oy.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new ff(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const u=new URL(`${this.url}/rpc/${t}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{u.searchParams.append(h,m)})):(a="POST",c=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new ay.default({method:a,url:u,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Hl.default=ly;var un=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.PostgrestError=Ee.PostgrestBuilder=Ee.PostgrestTransformBuilder=Ee.PostgrestFilterBuilder=Ee.PostgrestQueryBuilder=Ee.PostgrestClient=void 0;const pf=un(Hl);Ee.PostgrestClient=pf.default;const mf=un(Vi);Ee.PostgrestQueryBuilder=mf.default;const gf=un(hs);Ee.PostgrestFilterBuilder=gf.default;const yf=un(qi);Ee.PostgrestTransformBuilder=yf.default;const vf=un(Ki);Ee.PostgrestBuilder=vf.default;const xf=un(Ji);Ee.PostgrestError=xf.default;var uy=Ee.default={PostgrestClient:pf.default,PostgrestQueryBuilder:mf.default,PostgrestFilterBuilder:gf.default,PostgrestTransformBuilder:yf.default,PostgrestBuilder:vf.default,PostgrestError:xf.default};const{PostgrestClient:cy,PostgrestQueryBuilder:Dx,PostgrestFilterBuilder:Mx,PostgrestTransformBuilder:zx,PostgrestBuilder:Fx,PostgrestError:Bx}=uy;class dy{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const hy="2.15.5",fy=`realtime-js/${hy}`,py="1.0.0",Pa=1e4,my=1e3,gy=100;var $n;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})($n||($n={}));var se;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(se||(se={}));var Ye;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ye||(Ye={}));var Ra;(function(e){e.websocket="websocket"})(Ra||(Ra={}));var or;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(or||(or={}));class yy{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const u=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:u,payload:c}}}class wf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var W;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(W||(W={}));const mc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=vy(o,e,t,s),i),{})},vy=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?kf(i,o):Oa(o)},kf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return _y(t,r)}switch(e){case W.bool:return xy(t);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return wy(t);case W.json:case W.jsonb:return ky(t);case W.timestamp:return by(t);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return Oa(t);default:return Oa(t)}},Oa=e=>e,xy=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},wy=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ky=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},_y=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>kf(t,a))}return e},by=e=>typeof e=="string"?e.replace(" ","T"):e,_f=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class No{constructor(t,r,n={},s=Pa){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var gc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(gc||(gc={}));class An{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=An.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=An.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=An.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const m=d.map(_=>_.presence_ref),y=h.map(_=>_.presence_ref),v=d.filter(_=>y.indexOf(_.presence_ref)<0),k=h.filter(_=>m.indexOf(_.presence_ref)<0);v.length>0&&(a[c]=v),k.length>0&&(u[c]=k)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,u)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(u),d.length>0){const h=t[a].map(y=>y.presence_ref),m=d.filter(y=>h.indexOf(y.presence_ref)<0);t[a].unshift(...m)}n(a,d,u)}),this.map(o,(a,u)=>{let c=t[a];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=c,s(a,c,u),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(yc||(yc={}));var In;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(In||(In={}));var gt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(gt||(gt={}));class Vl{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=se.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new No(this,Ye.join,this.params,this.timeout),this.rejoinTimer=new wf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=se.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=se.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=se.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ye.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new An(this),this.broadcastEndpointURL=_f(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==se.closed){const{config:{broadcast:o,presence:a,private:u}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[In.PRESENCE]&&this.bindings[In.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(gt.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(gt.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var v;if(this.socket.setAuth(),y===void 0){t==null||t(gt.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,_=(v=k==null?void 0:k.length)!==null&&v!==void 0?v:0,g=[];for(let p=0;p<_;p++){const f=k[p],{filter:{event:w,schema:b,table:j,filter:N}}=f,S=y&&y[p];if(S&&S.event===w&&S.schema===b&&S.table===j&&S.filter===N)g.push(Object.assign(Object.assign({},f),{id:S.id}));else{this.unsubscribe(),this.state=se.errored,t==null||t(gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(gt.SUBSCRIBED);return}}).receive("error",y=>{this.state=se.errored,t==null||t(gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===se.joined&&t===In.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=se.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ye.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new No(this,Ye.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=se.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new No(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>gy){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:u,leave:c,join:d}=Ye;if(n&&[a,u,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,k,_;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((_=(k=y.filter)===null||k===void 0?void 0:k.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(y=>y.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var v,k,_,g,p,f;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const w=y.id,b=(v=y.filter)===null||v===void 0?void 0:v.event;return w&&((k=r.ids)===null||k===void 0?void 0:k.includes(w))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const w=(p=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((f=r==null?void 0:r.event)===null||f===void 0?void 0:f.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof m=="object"&&"ids"in m){const v=m.data,{schema:k,table:_,commit_timestamp:g,type:p,errors:f}=v;m=Object.assign(Object.assign({},{schema:k,table:_,commit_timestamp:g,eventType:p,new:{},old:{},errors:f}),this._getPayloadRecords(v))}y.callback(m,n)})}_isClosed(){return this.state===se.closed}_isJoined(){return this.state===se.joined}_isJoining(){return this.state===se.joining}_isLeaving(){return this.state===se.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Vl.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ye.close,{},t)}_onError(t){this._on(Ye.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=se.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=mc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=mc(t.columns,t.old_record)),r}}const Co=()=>{},$s={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},jy=[1e3,2e3,5e3,1e4],Sy=1e4,Ey=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ny{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pa,this.transport=null,this.heartbeatIntervalMs=$s.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Co,this.ref=0,this.reconnectTimer=null,this.logger=Co,this.conn=null,this.sendBuffer=[],this.serializer=new yy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>ds(async()=>{const{default:a}=await Promise.resolve().then(()=>ln);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Ra.websocket}`,this.httpEndpoint=_f(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dy.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:py}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case $n.connecting:return or.Connecting;case $n.open:return or.Open;case $n.closing:return or.Closing;default:return or.Closed}}isConnected(){return this.connectionState()===or.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Vl(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(my,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},$s.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ye.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Ey],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:fy};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ye.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new wf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$s.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,a,u,c,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Pa,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:$s.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Co,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:h=>jy[h-1]||Sy,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(h,m)=>m(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class ql extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ie(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Cy extends ql{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class La extends ql{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Ty=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};const bf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ds(async()=>{const{default:n}=await Promise.resolve().then(()=>ln);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Py=()=>Ty(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ds(()=>Promise.resolve().then(()=>ln),void 0)).Response:Response}),$a=e=>{if(Array.isArray(e))return e.map(r=>$a(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=$a(n)}),t},Ry=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var wr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};const To=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Oy=(e,t,r)=>wr(void 0,void 0,void 0,function*(){const n=yield Py();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new Cy(To(s),i,o))}).catch(s=>{t(new La(To(s),s))}):t(new La(To(e),e))}),Ly=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(Ry(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function fs(e,t,r,n,s,i){return wr(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,Ly(t,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>Oy(u,a,n))})})}function bi(e,t,r,n){return wr(this,void 0,void 0,function*(){return fs(e,"GET",t,r,n)})}function at(e,t,r,n,s){return wr(this,void 0,void 0,function*(){return fs(e,"POST",t,n,s,r)})}function Aa(e,t,r,n,s){return wr(this,void 0,void 0,function*(){return fs(e,"PUT",t,n,s,r)})}function $y(e,t,r,n){return wr(this,void 0,void 0,function*(){return fs(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function jf(e,t,r,n,s){return wr(this,void 0,void 0,function*(){return fs(e,"DELETE",t,n,s,r)})}var we=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};const Ay={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Iy{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=bf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return we(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},vc),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield(t=="PUT"?Aa:at)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ie(i))return{data:null,error:i};throw i}})}upload(t,r,n){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return we(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:vc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield Aa(this.fetch,a.toString(),u,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(ie(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,r){return we(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield at(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ql("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ie(n))return{data:null,error:n};throw n}})}update(t,r,n){return we(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return we(this,void 0,void 0,function*(){try{return{data:yield at(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ie(s))return{data:null,error:s};throw s}})}copy(t,r,n){return we(this,void 0,void 0,function*(){try{return{data:{path:(yield at(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ie(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return we(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield at(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ie(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return we(this,void 0,void 0,function*(){try{const s=yield at(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ie(s))return{data:null,error:s};throw s}})}download(t,r){return we(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield bi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ie(a))return{data:null,error:a};throw a}})}info(t){return we(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield bi(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:$a(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ie(n))return{data:null,error:n};throw n}})}exists(t){return we(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield $y(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ie(n)&&n instanceof La){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return we(this,void 0,void 0,function*(){try{return{data:yield jf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ie(r))return{data:null,error:r};throw r}})}list(t,r,n){return we(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Ay),r),{prefix:t||""});return{data:yield at(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ie(s))return{data:null,error:s};throw s}})}listV2(t,r){return we(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield at(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ie(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Uy="2.12.1",Dy={"X-Client-Info":`storage-js/${Uy}`};var _r=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};class My{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Dy),r),this.fetch=bf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return _r(this,void 0,void 0,function*(){try{return{data:yield bi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ie(t))return{data:null,error:t};throw t}})}getBucket(t){return _r(this,void 0,void 0,function*(){try{return{data:yield bi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ie(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return _r(this,void 0,void 0,function*(){try{return{data:yield at(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ie(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return _r(this,void 0,void 0,function*(){try{return{data:yield Aa(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ie(n))return{data:null,error:n};throw n}})}emptyBucket(t){return _r(this,void 0,void 0,function*(){try{return{data:yield at(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ie(r))return{data:null,error:r};throw r}})}deleteBucket(t){return _r(this,void 0,void 0,function*(){try{return{data:yield jf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ie(r))return{data:null,error:r};throw r}})}}class zy extends My{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new Iy(this.url,this.headers,t,this.fetch)}}const Fy="2.57.4";let jn="";typeof Deno<"u"?jn="deno":typeof document<"u"?jn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jn="react-native":jn="node";const By={"X-Client-Info":`supabase-js-${jn}/${Fy}`},Wy={headers:By},Hy={schema:"public"},Vy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qy={};var Ky=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};const Jy=e=>{let t;return e?t=e:typeof fetch>"u"?t=uf:t=fetch,(...r)=>t(...r)},Gy=()=>typeof Headers>"u"?cf:Headers,Qy=(e,t,r)=>{const n=Jy(r),s=Gy();return(i,o)=>Ky(void 0,void 0,void 0,function*(){var a;const u=(a=yield t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var Yy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};function Xy(e){return e.endsWith("/")?e:e+"/"}function Zy(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:u,auth:c,realtime:d,global:h}=t,m={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Yy(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function ev(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Xy(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Sf="2.71.1",Nr=30*1e3,Ia=3,Po=Ia*Nr,tv="http://localhost:9999",rv="supabase.auth.token",nv={"X-Client-Info":`gotrue-js/${Sf}`},Ua="X-Supabase-Api-Version",Ef={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},sv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,iv=10*60*1e3;class Kl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ov extends Kl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function av(e){return $(e)&&e.name==="AuthApiError"}class Nf extends Kl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Yt extends Kl{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Pt extends Yt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lv(e){return $(e)&&e.name==="AuthSessionMissingError"}class As extends Yt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Is extends Yt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Us extends Yt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uv(e){return $(e)&&e.name==="AuthImplicitGrantRedirectError"}class xc extends Yt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Da extends Yt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ro(e){return $(e)&&e.name==="AuthRetryableFetchError"}class wc extends Yt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ma extends Yt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ji="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kc=` 	
\r=`.split(""),cv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<kc.length;t+=1)e[kc[t].charCodeAt(0)]=-2;for(let t=0;t<ji.length;t+=1)e[ji[t].charCodeAt(0)]=t;return e})();function _c(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ji[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ji[n]),t.queuedBits-=6}}function Cf(e,t,r){const n=cv[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function bc(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{fv(o,n,r)};for(let o=0;o<e.length;o+=1)Cf(e.charCodeAt(o),s,i);return t.join("")}function dv(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function hv(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}dv(n,t)}}function fv(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function pv(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Cf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function mv(e){const t=[];return hv(e,r=>t.push(r)),new Uint8Array(t)}function gv(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>_c(s,r,n)),_c(null,r,n),t.join("")}function yv(e){return Math.round(Date.now()/1e3)+e}function vv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Je=()=>typeof window<"u"&&typeof document<"u",tr={tested:!1,writable:!1},Tf=()=>{if(!Je())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tr.tested)return tr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tr.tested=!0,tr.writable=!0}catch{tr.tested=!0,tr.writable=!1}return tr.writable};function xv(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Pf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ds(async()=>{const{default:n}=await Promise.resolve().then(()=>ln);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},wv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Cr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},rr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Tt=async(e,t)=>{await e.removeItem(t)};class Gi{constructor(){this.promise=new Gi.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Gi.promiseConstructor=Promise;function Oo(e){const t=e.split(".");if(t.length!==3)throw new Ma("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!sv.test(t[n]))throw new Ma("JWT not in base64url format");return{header:JSON.parse(bc(t[0])),payload:JSON.parse(bc(t[1])),signature:pv(t[2]),raw:{header:t[0],payload:t[1]}}}async function kv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _v(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function bv(e){return("0"+e.toString(16)).substr(-2)}function jv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,bv).join("")}async function Sv(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Ev(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Sv(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function br(e,t,r=!1){const n=jv();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Cr(e,`${t}-code-verifier`,s);const i=await Ev(n);return[i,n===i?"plain":"s256"]}const Nv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Cv(e){const t=e.headers.get(Ua);if(!t||!t.match(Nv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Tv(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Pv(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Rv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jr(e){if(!Rv.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Lo(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jc(e){return JSON.parse(JSON.stringify(e))}var Ov=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ir=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Lv=[502,503,504];async function Sc(e){var t;if(!wv(e))throw new Da(ir(e),0);if(Lv.includes(e.status))throw new Da(ir(e),e.status);let r;try{r=await e.json()}catch(i){throw new Nf(ir(i),i)}let n;const s=Cv(e);if(s&&s.getTime()>=Ef["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new wc(ir(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Pt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new wc(ir(r),e.status,r.weak_password.reasons);throw new ov(ir(r),e.status||500,n)}const $v=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function D(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ua]||(i[Ua]=Ef["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await Av(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function Av(e,t,r,n,s,i){const o=$v(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(u){throw console.error(u),new Da(ir(u),0)}if(a.ok||await Sc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(u){await Sc(u)}}function pt(e){var t;let r=null;Mv(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=yv(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Ec(e){const t=pt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function At(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Iv(e){return{data:e,error:null}}function Uv(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Ov(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function Dv(e){return e}function Mv(e){return e.access_token&&e.refresh_token&&e.expires_in}const $o=["global","local","others"];var zv=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Fv{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Pf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=$o[0]){if($o.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$o.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:At})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=zv(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Uv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:At})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Dv});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(v=>{const k=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);c[`${_}Page`]=k}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if($(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){jr(t);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:At})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){jr(t);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:At})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){jr(t);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:At})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){jr(t.userId);try{const{data:r,error:n}=await D(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if($(r))return{data:null,error:r};throw r}}async _deleteFactor(t){jr(t.userId),jr(t.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}}function Nc(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Bv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Sr={debug:!!(globalThis&&Tf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Rf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Wv extends Rf{}async function Hv(e,t,r){Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Wv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Sr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Bv();const Vv={url:tv,storageKey:rv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Cc(e,t,r){return await r()}const Er={};class rs{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rs.nextInstanceID,rs.nextInstanceID+=1,this.instanceID>0&&Je()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Vv),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Fv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Pf(s.fetch),this.lock=s.lock||Cc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Je()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Hv:this.lock=Cc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Tf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Nc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Nc(this.memoryStorage)),Je()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Er[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Er[this.storageKey]=Object.assign(Object.assign({},Er[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Er[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Er[this.storageKey]=Object.assign(Object.assign({},Er[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Sf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=xv(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Je()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),uv(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $(r)?{error:r}:{error:new Nf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:pt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:m}=t;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await br(this.storage,this.storageKey)),i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:v},xform:pt})}else if("phone"in t){const{phone:d,password:h,options:m}=t;i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:pt})}else throw new Is("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if($(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ec})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ec})}else throw new Is("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new As}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,a,u,c,d,h,m,y;let v,k;if("message"in t)v=t.message,k=t.signature;else{const{chain:_,wallet:g,statement:p,options:f}=t;let w;if(Je())if(typeof g=="object")w=g;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))w=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const b=new URL((r=f==null?void 0:f.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const j=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},f==null?void 0:f.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),p?{statement:p}:null));let N;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")N=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)N=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)v=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),k=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${b.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(n=f==null?void 0:f.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=f==null?void 0:f.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${f.signInWithSolana.notBefore}`]:[],...!((o=f==null?void 0:f.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${f.signInWithSolana.expirationTime}`]:[],...!((a=f==null?void 0:f.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${f.signInWithSolana.chainId}`]:[],...!((u=f==null?void 0:f.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${f.signInWithSolana.nonce}`]:[],...!((c=f==null?void 0:f.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${f.signInWithSolana.requestId}`]:[],...!((h=(d=f==null?void 0:f.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...f.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const j=await w.signMessage(new TextEncoder().encode(v),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=j}}try{const{data:_,error:g}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:gv(k)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:pt});if(g)throw g;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new As}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:g})}catch(_){if($(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const r=await rr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:pt});if(await Tt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new As}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if($(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:pt}),{data:u,error:c}=a;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new As}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await br(this.storage,this.storageKey));const{error:h}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:u}=t,{data:c,error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Is("You must provide either an email or phone number.")}catch(a){if($(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:pt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if($(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await br(this.storage,this.storageKey)),await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Iv})}catch(i){if($(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Pt;const{error:s}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if($(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await D(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await D(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Is("You must provide either an email or phone number and a type")}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await rr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Po:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await rr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Lo()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:At}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pt}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:At})})}catch(r){if($(r))return lv(r)&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Pt;const o=s.session;let a=null,u=null;this.flowType==="pkce"&&t.email!=null&&([a,u]=await br(this.storage,this.storageKey));const{data:c,error:d}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:At});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Oo(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:u}=await this._getUser(t.access_token);if(u)throw u;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if($(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Pt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if($(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Je())throw new Us("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Us(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new xc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Us("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xc("No code detected.");const{data:p,error:f}=await this._exchangeCodeForSession(t.code);if(f)throw f;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:u,token_type:c}=t;if(!i||!a||!o||!c)throw new Us("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let m=d+h;u&&(m=parseInt(u));const y=m-d;y*1e3<=Nr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const v=m-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,m,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,m,d);const{data:k,error:_}=await this._getUser(i);if(_)throw _;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:c,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if($(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await rr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(av(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=vv(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await br(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if($(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,u,c,d;const{data:h,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Je()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if($(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await _v(async s=>(s>0&&await kv(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:pt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ro(i)&&Date.now()+o-n<Nr})}catch(n){if(this._debug(r,"error",n),$(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Je()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await rr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await rr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Cr(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Lo()}else if(s&&!s.user&&!s.user){const o=await rr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Tt(this.storage,this.storageKey+"-user"),await Cr(this.storage,this.storageKey,s)):s.user=Lo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Po;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Po}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Ro(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Gi;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Pt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),$(i)){const o={session:null,error:i};return Ro(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Cr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=jc(s);await Cr(this.storage,this.storageKey,i)}else{const s=jc(r);await Cr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Tt(this.storage,this.storageKey),await Tt(this.storage,this.storageKey+"-code-verifier"),await Tt(this.storage,this.storageKey+"-user"),this.userStorage&&await Tt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Je()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Nr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Nr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Nr}ms, refresh threshold is ${Ia} ticks`),s<=Ia&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Rf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Je()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await br(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await D(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:c}=await D(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await D(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if($(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await D(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Oo(s.access_token);let a=null;o.aal&&(a=o.aal);let u=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+iv>s)return n;const{data:i,error:o}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:v}=await this.getSession();if(v||!y.session)return{data:null,error:v};n=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:u}}=Oo(n);r!=null&&r.allowExpired||Tv(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const d=Pv(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,mv(`${a}.${u}`)))throw new Ma("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}}rs.nextInstanceID=0;const qv=rs;class Kv extends qv{constructor(t){super(t)}}var Jv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(e,t||[])).next())})};class Gv{constructor(t,r,n){var s,i,o;this.supabaseUrl=t,this.supabaseKey=r;const a=ev(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Hy,realtime:qy,auth:Object.assign(Object.assign({},Vy),{storageKey:u}),global:Wy},d=Zy(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Qy(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new cy(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new zy(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Bg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Jv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:u,debug:c},d,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Kv({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:u,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Ny(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Qv=(e,t,r)=>new Gv(e,t,r);function Yv(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Yv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xv="https://qnfbhsnkhzmqndqcyatu.supabase.co",Zv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFuZmJoc25raHptcW5kcWN5YXR1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcyNjU5NTksImV4cCI6MjA3Mjg0MTk1OX0.69g5-VSnye2jWE8ebeRNuqN2E8jSMup0Ju4FtUwVpt4",V=Qv(Xv,Zv);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ex={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),z=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...c},d)=>x.createElement("svg",{ref:d,...ex,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${tx(e)}`,a].join(" "),...c},[...t.map(([h,m])=>x.createElement(h,m)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=z("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=z("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=z("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=z("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=z("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=z("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=z("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=z("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=z("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=z("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=z("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=z("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=z("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=z("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=z("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=z("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=z("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=z("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gx=({isOpen:e,onClose:t,mode:r})=>{const[n,s]=x.useState(r),[i,o]=x.useState({name:"",email:"",password:""}),[a,u]=x.useState(!1),[c,d]=x.useState(!1),[h,m]=x.useState(null),[y,v]=x.useState(null);x.useEffect(()=>{s(r)},[r]),x.useEffect(()=>{const p=f=>{f.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",p),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",p),document.body.style.overflow="unset"}},[e,t]);const k=p=>{p.target===p.currentTarget&&t()},_=p=>{const{name:f,value:w}=p.target;o(b=>({...b,[f]:w})),h&&m(null),y&&v(null)},g=async p=>{p.preventDefault(),d(!0),m(null),v(null);try{if(n==="signup"){const{data:f,error:w}=await V.auth.signUp({email:i.email,password:i.password,options:{data:{full_name:i.name}}});if(w)throw w;f.user&&(v("Account created successfully! You can now sign in."),o({name:"",email:"",password:""}),setTimeout(()=>{s("signin"),v(null)},2e3))}else{const{data:f,error:w}=await V.auth.signInWithPassword({email:i.email,password:i.password});if(w)throw w;f.user&&(v("Signed in successfully!"),o({name:"",email:"",password:""}),setTimeout(()=>{t(),v(null)},1500))}}catch(f){console.error("Auth error:",f),m(f.message||"An unexpected error occurred")}finally{d(!1)}};return x.useEffect(()=>{e||(o({name:"",email:"",password:""}),m(null),v(null),d(!1),u(!1))},[e]),e?l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:k,role:"dialog","aria-modal":"true","aria-labelledby":"auth-modal-title",children:l.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-gray-900 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in-0 zoom-in-95 duration-300 transition-colors duration-300",children:[l.jsx("button",{onClick:t,className:"absolute top-4 right-4 z-10 p-2 bg-gray-200/80 dark:bg-gray-800/80 hover:bg-gray-300 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white rounded-full transition-all duration-200","aria-label":"Close modal",children:l.jsx(ns,{className:"w-5 h-5"})}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-500 p-6 pb-8",children:[l.jsx("h2",{id:"auth-modal-title",className:"text-2xl font-bold text-white mb-2",children:n==="signup"?"Join the Movement":"Welcome Back"}),l.jsx("p",{className:"text-purple-100",children:n==="signup"?"Create your account to discover amazing music events":"Sign in to your account to continue"})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("form",{onSubmit:g,className:"space-y-4",children:[n==="signup"&&l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:[l.jsx(Ql,{className:"w-4 h-4 inline mr-2"}),"Full Name"]}),l.jsx("input",{type:"text",id:"name",name:"name",value:i.name,onChange:_,required:n==="signup",className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your full name"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:[l.jsx(ux,{className:"w-4 h-4 inline mr-2"}),"Email Address"]}),l.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:_,required:!0,className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your email"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:[l.jsx(ox,{className:"w-4 h-4 inline mr-2"}),"Password"]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:a?"text":"password",id:"password",name:"password",value:i.password,onChange:_,required:!0,className:"w-full px-4 py-3 pr-12 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:n==="signup"?"Create a password":"Enter your password",minLength:n==="signup"?6:void 0}),l.jsx("button",{type:"button",onClick:()=>u(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:a?l.jsx(sx,{className:"w-5 h-5"}):l.jsx(Gl,{className:"w-5 h-5"})})]}),n==="signup"&&l.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 transition-colors duration-300",children:"Password must be at least 6 characters long"})]}),h&&l.jsx("div",{className:"p-3 bg-red-900/50 border border-red-700 rounded-lg",children:l.jsx("p",{className:"text-red-300 text-sm",children:h})}),y&&l.jsx("div",{className:"p-3 bg-green-900/50 border border-green-700 rounded-lg",children:l.jsx("p",{className:"text-green-300 text-sm",children:y})}),l.jsx("button",{type:"submit",className:"w-full px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-500 hover:to-purple-400 text-white font-bold rounded-lg transition-all duration-200 transform hover:scale-105 hover:shadow-lg hover:shadow-purple-500/25 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:hover:scale-100 flex items-center justify-center",disabled:c,children:c?l.jsxs(l.Fragment,{children:[l.jsx(Ce,{className:"w-5 h-5 mr-2 animate-spin"}),n==="signup"?"Creating Account...":"Signing In..."]}):n==="signup"?"Create Account":"Sign In"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm transition-colors duration-300",children:[n==="signup"?"Already have an account?":"Don't have an account?",l.jsx("button",{type:"button",onClick:()=>{s(n==="signup"?"signin":"signup"),m(null),v(null),o({name:"",email:"",password:""})},className:"ml-2 text-purple-400 hover:text-purple-300 font-semibold transition-colors",disabled:c,children:n==="signup"?"Sign In":"Join the Movement"})]})})]})]})}):null},yx=({value:e,onChange:t,onClose:r})=>{const[n,s]=x.useState(e.length>0?e:[{type:"",price:""}]),i=(c,d,h)=>{const m=n.map((y,v)=>v===c?{...y,[d]:h}:y);s(m),t(m)},o=()=>{const c=[...n,{type:"",price:""}];s(c),t(c)},a=c=>{if(n.length>1){const d=n.filter((h,m)=>m!==c);s(d),t(d)}},u=c=>{c.target===c.currentTarget&&r()};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:u,children:l.jsxs("div",{className:"relative w-full max-w-2xl bg-white dark:bg-gray-900 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in-0 zoom-in-95 duration-300 transition-colors duration-300",children:[l.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-500 p-6",children:[l.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[l.jsx(Ei,{className:"w-6 h-6 mr-3"}),"Ticket Types & Pricing"]}),l.jsx("p",{className:"text-purple-100 mt-1",children:"Add different ticket types and their corresponding prices"})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"grid grid-cols-12 gap-4 mb-4 text-sm font-semibold text-gray-600 dark:text-gray-300 transition-colors duration-300",children:[l.jsx("div",{className:"col-span-5",children:"Ticket Type"}),l.jsx("div",{className:"col-span-5",children:"Price ()"}),l.jsx("div",{className:"col-span-2",children:"Action"})]}),l.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:n.map((c,d)=>l.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[l.jsx("div",{className:"col-span-5",children:l.jsx("input",{type:"text",value:c.type,onChange:h=>i(d,"type",h.target.value),placeholder:d===0?"e.g., Regular":d===1?"e.g., VIP":"e.g., VVIP",className:"w-full px-3 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 text-sm"})}),l.jsx("div",{className:"col-span-5",children:l.jsx("input",{type:"text",value:c.price,onChange:h=>i(d,"price",h.target.value),placeholder:d===0?"25":d===1?"50":"100",className:"w-full px-3 py-2 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 text-sm"})}),l.jsx("div",{className:"col-span-2",children:l.jsx("button",{type:"button",onClick:()=>a(d),disabled:n.length===1,className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Remove ticket type",children:l.jsx(Af,{className:"w-4 h-4"})})})]},d))}),l.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 transition-colors duration-300",children:l.jsxs("button",{type:"button",onClick:o,className:"flex items-center space-x-2 px-4 py-2 bg-purple-100 dark:bg-purple-600/20 hover:bg-purple-200 dark:hover:bg-purple-600/30 text-purple-600 dark:text-purple-400 hover:text-purple-700 dark:hover:text-purple-300 rounded-lg transition-all duration-200 border border-purple-300 dark:border-purple-600/30 hover:border-purple-400 dark:hover:border-purple-500/50",children:[l.jsx(hx,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:"Add Ticket Type"})]})}),l.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200 dark:border-gray-700 transition-colors duration-300",children:[l.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white border border-gray-400 dark:border-gray-600 hover:border-gray-500 dark:hover:border-gray-500 rounded-lg transition-all duration-200 text-sm font-medium",children:"Cancel"}),l.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-lg transition-all duration-200 text-sm font-medium",children:"Done"})]})]})]})})},Yl=({isOpen:e,onClose:t,onEventSubmitted:r,initialEvent:n=null})=>{const[s,i]=x.useState({title:"",date:"",time:"",venue:"",location:"",description:"",category:"General"}),[o,a]=x.useState([]),[u,c]=x.useState(!1),[d,h]=x.useState(null),[m,y]=x.useState(null),[v,k]=x.useState(!1),[_,g]=x.useState(null);x.useEffect(()=>{if(n)if(i({title:n.title||"",date:n.date||"",time:n.time||"",venue:n.venue||"",location:n.location||"",description:n.description||"",category:n.category||"General"}),y(n.image||null),n.price)try{const S=JSON.parse(n.price);Array.isArray(S)?a(S):a([{type:"General",price:n.price}])}catch{a([{type:"General",price:n.price}])}else a([])},[n]),x.useEffect(()=>{const S=R=>{R.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",S),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",S),document.body.style.overflow="unset"}},[e,t]);const p=S=>{S.target===S.currentTarget&&t()},f=S=>{const{name:R,value:P}=S.target;i(U=>({...U,[R]:P}))},w=S=>{var P;const R=(P=S.target.files)==null?void 0:P[0];if(R){h(R);const U=new FileReader;U.onload=L=>{var I;y((I=L.target)==null?void 0:I.result)},U.readAsDataURL(R)}},b=async S=>{var R;S.preventDefault(),k(!0),g(null);try{const{data:{user:P},error:U}=await V.auth.getUser();if(U||!P)throw new Error("You must be logged in to create or edit events");let L=(n==null?void 0:n.image)||null;if(d){const xe=d.name.split(".").pop(),C=`event-images/${`${Date.now()}-${Math.random().toString(36).substring(2)}.${xe}`}`,{error:O}=await V.storage.from("event-images").upload(C,d);if(O)throw new Error(`Image upload failed: ${O.message}`);const{data:{publicUrl:A}}=V.storage.from("event-images").getPublicUrl(C);L=A}let I="";if(o.length>0){const xe=o.filter(ht=>ht.type.trim()&&ht.price.trim());xe.length>0&&(I=JSON.stringify(xe))}const De={title:s.title,date:s.date,time:s.time||null,venue:s.venue,location:s.location||null,organizer:((R=P.user_metadata)==null?void 0:R.full_name)||P.email||"Unknown Organizer",description:s.description||null,category:s.category,price:I||null,image:L,...n?{}:{creator_id:P.id}};let re;if(n){const{error:xe}=await V.from("groovanna b").update(De).eq("id",n.id);re=xe}else{const{error:xe}=await V.from("groovanna b").insert([De]);re=xe}if(re)throw new Error(`Failed to ${n?"update":"create"} event: ${re.message}`);t(),r&&r()}catch(P){console.error(`Error ${n?"updating":"creating"} event:`,P),g(P instanceof Error?P.message:"An unexpected error occurred")}finally{k(!1)}};if(x.useEffect(()=>{e||(n||(i({title:"",date:"",time:"",venue:"",location:"",description:"",category:"General"}),a([]),y(null)),h(null),g(null),k(!1),c(!1))},[e,n]),!e)return null;const j=["General","Rock","Electronic","Jazz","Indie","Classical","Hip-Hop","R&B","Alternative","Pop"],N=!!n;return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:p,role:"dialog","aria-modal":"true","aria-labelledby":"event-form-title",children:[l.jsxs("div",{className:"relative w-full max-w-4xl max-h-[90vh] bg-white dark:bg-gray-900 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in-0 zoom-in-95 duration-300 transition-colors duration-300",children:[l.jsx("button",{onClick:t,className:"absolute top-4 right-4 z-10 p-2 bg-gray-200/80 dark:bg-gray-800/80 hover:bg-gray-300 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white rounded-full transition-all duration-200","aria-label":"Close modal",children:l.jsx(ns,{className:"w-6 h-6"})}),l.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-500 p-6",children:[l.jsxs("h2",{id:"event-form-title",className:"text-3xl font-bold text-white flex items-center",children:[l.jsx(Un,{className:"w-8 h-8 mr-3"}),N?"Edit Event":"Create New Event"]}),l.jsx("p",{className:"text-purple-100 mt-2",children:N?"Update the details of your music event":"Fill in the details to create your music event"})]}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:l.jsxs("form",{onSubmit:b,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsxs("label",{htmlFor:"title",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:[l.jsx(Tc,{className:"w-4 h-4 inline mr-2"}),"Event Title *"]}),l.jsx("input",{type:"text",id:"title",name:"title",value:s.title,onChange:f,required:!0,className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"Enter event title"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"date",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:[l.jsx(dt,{className:"w-4 h-4 inline mr-2"}),"Date *"]}),l.jsx("input",{type:"date",id:"date",name:"date",value:s.date,onChange:f,required:!0,className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"time",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:[l.jsx(Qi,{className:"w-4 h-4 inline mr-2"}),"Time"]}),l.jsx("input",{type:"time",id:"time",name:"time",value:s.time,onChange:f,className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"venue",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:[l.jsx(tn,{className:"w-4 h-4 inline mr-2"}),"Venue *"]}),l.jsx("input",{type:"text",id:"venue",name:"venue",value:s.venue,onChange:f,required:!0,className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"Enter venue name"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"location",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:[l.jsx(tn,{className:"w-4 h-4 inline mr-2"}),"Location"]}),l.jsx("input",{type:"text",id:"location",name:"location",value:s.location,onChange:f,className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"City, State"})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"category",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:[l.jsx(Ei,{className:"w-4 h-4 inline mr-2"}),"Category"]}),l.jsx("select",{id:"category",name:"category",value:s.category,onChange:f,className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",children:j.map(S=>l.jsx("option",{value:S,className:"bg-gray-100 dark:bg-gray-800",children:S},S))})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"price",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:[l.jsx(Ei,{className:"w-4 h-4 inline mr-2"}),"Ticket Pricing"]}),l.jsx("div",{className:"space-y-3",children:l.jsx("button",{type:"button",onClick:()=>c(!0),className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-left hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",children:o.length>0?l.jsxs("div",{className:"text-gray-900 dark:text-white transition-colors duration-300",children:[l.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1 transition-colors duration-300",children:[o.length," ticket type",o.length>1?"s":""," configured"]}),l.jsxs("div",{className:"space-y-1",children:[o.slice(0,2).map((S,R)=>l.jsxs("div",{className:"text-sm",children:[S.type,": ",S.price]},R)),o.length>2&&l.jsxs("div",{className:"text-xs text-gray-400",children:["+",o.length-2," more..."]})]})]}):l.jsx("div",{className:"text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Click to configure ticket types and pricing"})})})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"image",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:[l.jsx(mx,{className:"w-4 h-4 inline mr-2"}),"Event Image"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("input",{type:"file",id:"image",name:"image",accept:"image/*",onChange:w,className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-purple-600 file:text-white hover:file:bg-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"}),m&&l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:m,alt:"Event preview",className:"w-full h-32 object-cover rounded-lg border border-gray-300 dark:border-gray-700"}),l.jsx("button",{type:"button",onClick:()=>{h(null),y((n==null?void 0:n.image)||null);const S=document.getElementById("image");S&&(S.value="")},className:"absolute top-2 right-2 p-1 bg-gray-900/80 hover:bg-gray-800 dark:bg-gray-900/80 dark:hover:bg-gray-800 text-white rounded-full transition-colors",children:l.jsx(ns,{className:"w-4 h-4"})})]})]})]})]}),l.jsxs("div",{children:[l.jsxs("label",{htmlFor:"description",className:"block text-sm font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:[l.jsx(Tc,{className:"w-4 h-4 inline mr-2"}),"Description"]}),l.jsx("textarea",{id:"description",name:"description",value:s.description,onChange:f,rows:4,className:"w-full px-4 py-3 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200 resize-vertical",placeholder:"Describe your event..."})]}),_&&l.jsx("div",{className:"p-4 bg-red-900/50 border border-red-700 rounded-lg",children:l.jsx("p",{className:"text-red-300 text-sm",children:_})}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200 dark:border-gray-700 transition-colors duration-300",children:[l.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 border border-gray-400 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:border-gray-500 dark:hover:border-gray-500 font-semibold rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",disabled:v,children:"Cancel"}),l.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-500 hover:to-purple-400 text-white font-bold rounded-lg transition-all duration-200 transform hover:scale-105 hover:shadow-lg hover:shadow-purple-500/25 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:hover:scale-100 flex items-center justify-center",disabled:v,children:v?l.jsxs(l.Fragment,{children:[l.jsx(Ce,{className:"w-5 h-5 mr-2 animate-spin"}),N?"Updating Event...":"Creating Event..."]}):N?"Update Event":"Create Event"})]})]})})]}),u&&l.jsx(yx,{value:o,onChange:a,onClose:()=>c(!1)})]})},vx=({event:e,displayMode:t,isOpen:r,onClose:n,onEventUpdated:s,user:i})=>{const[o,a]=er.useState(!1),[u,c]=er.useState(!1),[d,h]=er.useState(!1),[m,y]=er.useState(!1),[v,k]=er.useState(!1),[_,g]=er.useState({}),[p,f]=er.useState(null),w=x.useCallback(async()=>{if(!(!i||!e)){y(!0);try{const{data:L,error:I}=await V.from("attendees").select("id").eq("user_id",i.id).eq("event_id",e.id).maybeSingle();if(I){console.error("Error checking attendance:",I),k(!1);return}k(!!L)}catch(L){console.error("Error checking attendance:",L),k(!1)}finally{y(!1)}}},[i,e]);x.useEffect(()=>{r&&i&&e?w():(k(!1),y(!1))},[r,i,e,w]),x.useEffect(()=>{const L=I=>{I.key==="Escape"&&n()};return r&&(document.addEventListener("keydown",L),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",L),document.body.style.overflow="unset"}},[r,n]);const b=L=>{L.target===L.currentTarget&&n()},j=()=>{a(!1),n(),s&&s()},N=async()=>{if(!e)return;if(console.log("Delete button clicked for event:",e),console.log("Event ID to delete:",e.id),console.log("Event title:",e.title),!window.confirm(`Are you sure you want to delete "${e.title}"? This action cannot be undone.`)){console.log("User cancelled deletion");return}console.log("User confirmed deletion, proceeding..."),c(!0);try{console.log("Attempting to delete event from Supabase..."),console.log("Table: groovanna b"),console.log("Filter: id =",e.id);const{error:I}=await V.from("groovanna b").delete().eq("id",e.id);if(console.log("Supabase delete response:",{error:I}),I)throw console.error("Supabase delete error:",I),new Error(`Failed to delete event: ${I.message}`);console.log("Event deleted successfully from Supabase"),console.log("Closing modal and refreshing event list..."),n(),s&&(console.log("Calling onEventUpdated callback"),s())}catch(I){console.error("Error deleting event:",I),console.error("Full error object:",I),alert(I instanceof Error?I.message:"Failed to delete event")}finally{console.log("Setting isDeleting to false"),c(!1)}},S=async()=>{if(!(!e||!i)){h(!0);try{if(v){const{error:L}=await V.from("attendees").delete().eq("user_id",i.id).eq("event_id",e.id);if(L)throw L;k(!1)}else{const{error:L}=await V.from("attendees").insert([{user_id:i.id,event_id:e.id}]);if(L)throw L;k(!0)}}catch(L){if(console.error("Error updating attendance:",L),L.code==="PGRST205"){alert("Attendees feature is not yet available. Please contact support.");return}alert(`Failed to ${v?"cancel attendance for":"register for"} event. Please try again.`)}finally{h(!1)}}},R=async(L,I)=>{if(!i){alert("You need to sign up or sign in to purchase tickets");return}if(!e)return;const De=`${L}-${I}`;g(re=>({...re,[De]:!0})),f(null);try{const re=parseInt(I)*100,xe=`groovava-${e.id}-${Date.now()}-${Math.random().toString(36).substring(2,8)}`,ht={amount:re,email:i.email,reference:xe,callback_url:`${window.location.origin}/Groovava-ai-assisted/#/payment-success`,metadata:{event_id:e.id,ticket_type:L,user_id:i.id,event_title:e.title,event_date:e.date}};console.log("Initiating payment for:",{ticketType:L,price:`${I}`,amountInKobo:re,reference:xe});const C=await fetch("https://qnfbhsnkhzmqndqcyatu.supabase.co/functions/v1/paystack-initiate-payment",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFuZmJoc25raHptcW5kcWN5YXR1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcyNjU5NTksImV4cCI6MjA3Mjg0MTk1OX0.69g5-VSnye2jWE8ebeRNuqN2E8jSMup0Ju4FtUwVpt4","Content-Type":"application/json"},body:JSON.stringify(ht)}),O=await C.json();if(!C.ok)throw new Error(O.error||"Payment initialization failed");if(O.success&&O.authorization_url)console.log("Payment initialized successfully, redirecting to:",O.authorization_url),window.location.href=O.authorization_url;else throw new Error("Invalid response from payment service")}catch(re){console.error("Payment initialization error:",re),f(re instanceof Error?re.message:"Payment initialization failed")}finally{g(re=>({...re,[De]:!1}))}},P=()=>{if(!(e!=null&&e.price))return[];try{const L=JSON.parse(e.price);return Array.isArray(L)?L.filter(I=>I.type&&I.price):[]}catch{return[{type:"General",price:e.price.replace(/[$]/g,"")}]}};if(!r||!e)return null;const U=P();return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:b,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",children:l.jsxs("div",{className:"relative w-full max-w-4xl max-h-[90vh] bg-white dark:bg-gray-900 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in-0 zoom-in-95 duration-300 flex flex-col transition-colors duration-300",children:[l.jsx("button",{onClick:n,className:"absolute top-4 right-4 z-10 p-2 bg-gray-200/80 dark:bg-gray-800/80 hover:bg-gray-300 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white rounded-full transition-all duration-200","aria-label":"Close modal",children:l.jsx(ns,{className:"w-6 h-6"})}),t==="buyTickets"?l.jsxs("div",{className:"flex flex-col flex-1 overflow-y-auto",children:[l.jsxs("div",{className:"relative w-full h-80",children:[l.jsx("img",{src:e.image||"https://images.pexels.com/photos/1540406/pexels-photo-1540406.jpeg?auto=compress&cs=tinysrgb&w=800",alt:e.title,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),l.jsxs("div",{className:"absolute bottom-6 left-6 right-6",children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[l.jsx(Rc,{className:"w-5 h-5 text-purple-400 animate-pulse"}),l.jsx("span",{className:"px-3 py-1 bg-purple-600 text-white text-sm font-bold rounded-full",children:e.category})]}),l.jsx("h2",{className:"text-3xl font-bold text-white mb-2 animate-in slide-in-from-bottom-4 duration-500",children:e.title}),l.jsx("p",{className:"text-gray-100 dark:text-gray-200 text-lg leading-relaxed animate-in slide-in-from-bottom-4 duration-700 delay-200 transition-colors duration-300",children:e.description})]})]}),l.jsxs("div",{className:"flex-1 p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsxs("h3",{className:"text-2xl font-bold text-white mb-2 flex items-center justify-center animate-in fade-in duration-500 delay-300",children:[l.jsx(Pc,{className:"w-7 h-7 mr-3 text-purple-400"}),"Choose Your Ticket"]}),l.jsx("p",{className:"text-gray-300 dark:text-gray-400 animate-in fade-in duration-700 delay-500 transition-colors duration-300",children:"Select the perfect ticket type for your experience"})]}),U.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:U.map((L,I)=>{const De=`${L.type}-${L.price}`,re=_[De]||!1;return l.jsx("div",{className:"bg-gray-100 dark:bg-gray-800/50 backdrop-blur-sm border border-gray-200 dark:border-gray-700/50 rounded-2xl p-6 hover:border-purple-500/50 hover:shadow-lg hover:shadow-purple-500/10 transition-all duration-300 transform hover:scale-105 animate-in fade-in-up duration-500",style:{animationDelay:`${(I+1)*150}ms`},children:l.jsxs("div",{className:"text-center",children:[l.jsx("h4",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:L.type}),l.jsx("div",{className:"mb-6",children:l.jsxs("span",{className:"text-3xl font-bold text-purple-400",children:["",L.price]})}),l.jsx("button",{onClick:()=>R(L.type,L.price),disabled:re,className:"w-full px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-500 hover:to-purple-400 text-white font-bold rounded-xl transition-all duration-200 transform hover:scale-105 hover:shadow-lg hover:shadow-purple-500/25 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:hover:scale-100",children:re?l.jsxs(l.Fragment,{children:[l.jsx(Ce,{className:"w-5 h-5 mr-2 animate-spin"}),"Processing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Pc,{className:"w-5 h-5 mr-2"}),"Buy Now"]})})]})},I)})}):l.jsxs("div",{className:"text-center py-12 animate-in fade-in duration-500 delay-300",children:[l.jsx("div",{className:"w-16 h-16 bg-green-500 dark:bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4 transition-colors duration-300",children:l.jsx(Rc,{className:"w-8 h-8 text-white"})}),l.jsx("h4",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:"Free Event!"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 transition-colors duration-300",children:"This event is completely free to attend"}),l.jsxs("button",{onClick:()=>S(),className:"px-8 py-4 bg-gradient-to-r from-green-500 to-green-400 dark:from-green-600 dark:to-green-500 hover:from-green-400 hover:to-green-300 dark:hover:from-green-500 dark:hover:to-green-400 text-white font-bold rounded-xl transition-all duration-200 transform hover:scale-105 hover:shadow-lg hover:shadow-green-500/25 flex items-center justify-center mx-auto",children:[l.jsx(za,{className:"w-5 h-5 mr-2"}),d?"Registering...":"Register for Free"]})]})]}),p&&l.jsx("div",{className:"mx-8 mb-6 p-4 bg-red-100 dark:bg-red-900/50 border border-red-300 dark:border-red-700 rounded-lg animate-in fade-in duration-300 transition-colors duration-300",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Jl,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-red-800 dark:text-red-300 font-semibold mb-1 transition-colors duration-300",children:"Payment Error"}),l.jsx("p",{className:"text-red-700 dark:text-red-200 text-sm transition-colors duration-300",children:p})]})]})})]}):l.jsxs("div",{className:"flex flex-col lg:flex-row flex-1 overflow-y-auto",children:[l.jsxs("div",{className:"relative w-full lg:w-1/2 h-64 lg:h-auto",children:[l.jsx("img",{src:e.image||"https://images.pexels.com/photos/1540406/pexels-photo-1540406.jpeg?auto=compress&cs=tinysrgb&w=800",alt:e.title,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),l.jsx("div",{className:"absolute bottom-4 left-4",children:l.jsx("span",{className:"px-3 py-1 bg-purple-600 text-white text-sm font-semibold rounded-full",children:e.category})})]}),l.jsx("div",{className:"flex-1 p-6 lg:p-8",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h2",{id:"modal-title",className:"text-3xl font-bold text-gray-900 dark:text-white mb-4 transition-colors duration-300",children:e.title}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg leading-relaxed transition-colors duration-300",children:e.description})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(dt,{className:"w-5 h-5 text-purple-400 mt-1 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-gray-900 dark:text-white font-semibold mb-1 transition-colors duration-300",children:"Date"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:e.date})]})]}),e.time&&l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Qi,{className:"w-5 h-5 text-purple-400 mt-1 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-gray-900 dark:text-white font-semibold mb-1 transition-colors duration-300",children:"Time"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:e.time})]})]})]}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(tn,{className:"w-5 h-5 text-purple-400 mt-1 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-gray-900 dark:text-white font-semibold mb-1 transition-colors duration-300",children:"Location"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:e.location}),e.venue&&l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1 transition-colors duration-300",children:e.venue})]})]})})]}),l.jsxs("div",{className:"space-y-4",children:[e.organizer&&l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Un,{className:"w-5 h-5 text-purple-400 mt-1 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-gray-900 dark:text-white font-semibold mb-1 transition-colors duration-300",children:"Organizer"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:e.organizer})]})]}),e.price&&l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(Ei,{className:"w-5 h-5 text-purple-400 mt-1 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-gray-900 dark:text-white font-semibold mb-1 transition-colors duration-300",children:"Price"}),l.jsx("div",{className:"text-gray-600 dark:text-gray-300 transition-colors duration-300",children:(()=>{try{const L=JSON.parse(e.price);return Array.isArray(L)&&L.length>0?l.jsx("div",{className:"space-y-1",children:L.map((I,De)=>l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{className:"text-sm",children:[I.type,":"]}),l.jsxs("span",{className:"font-medium",children:["",I.price]})]},De))}):l.jsx("p",{children:e.price.replace(/\$/g,"")})}catch{return l.jsx("p",{children:e.price.replace(/\$/g,"")})}})()})]})]})]})]})})]}),i&&t==="details"&&l.jsx("div",{className:"sticky bottom-0 bg-white/90 dark:bg-gray-900/90 backdrop-blur-md p-6 border-t border-gray-200 dark:border-gray-700/50 transition-colors duration-300",children:e.creator_id&&i.id===e.creator_id?l.jsx("div",{className:"flex justify-between items-center",children:l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{className:"px-4 py-2 bg-red-600 hover:bg-red-500 text-white text-sm font-semibold rounded-lg transition-all duration-200 hover:shadow-lg hover:shadow-red-500/25 flex items-center space-x-2",onClick:N,disabled:u,children:u?l.jsxs(l.Fragment,{children:[l.jsx(Ce,{className:"w-4 h-4 animate-spin"}),l.jsx("span",{children:"Deleting..."})]}):l.jsx("span",{children:"Delete"})}),l.jsx("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white text-sm font-semibold rounded-lg transition-all duration-200 hover:shadow-lg hover:shadow-blue-500/25 flex items-center space-x-2",onClick:()=>a(!0),disabled:u,children:l.jsx("span",{children:"Edit"})})]})}):l.jsx("div",{className:"flex justify-center",children:m?l.jsxs("div",{className:"flex items-center space-x-2 text-gray-500 dark:text-gray-400 transition-colors duration-300",children:[l.jsx(Ce,{className:"w-5 h-5 animate-spin"}),l.jsx("span",{children:"Checking attendance..."})]}):l.jsx("button",{className:`px-6 py-3 font-semibold rounded-lg transition-all duration-200 transform hover:scale-105 hover:shadow-lg flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:hover:scale-100 ${v?"bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 text-white hover:shadow-red-500/25":"bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-500 hover:to-purple-400 text-white hover:shadow-purple-500/25"}`,onClick:S,disabled:d,children:d?l.jsxs(l.Fragment,{children:[l.jsx(Ce,{className:"w-5 h-5 animate-spin"}),l.jsx("span",{children:v?"Canceling...":"Registering..."})]}):v?l.jsxs(l.Fragment,{children:[l.jsx(ns,{className:"w-5 h-5"}),l.jsx("span",{children:"Cancel Attendance"})]}):l.jsxs(l.Fragment,{children:[l.jsx(za,{className:"w-5 h-5"}),l.jsx("span",{children:"Attend Event"})]})})})})]})}),l.jsx(Yl,{isOpen:o,onClose:()=>a(!1),onEventSubmitted:j,initialEvent:e})]})},xx=({event:e})=>l.jsx("div",{className:"bg-white dark:bg-gray-800/50 backdrop-blur-sm rounded-xl border border-gray-200 dark:border-gray-700/50 overflow-hidden transition-all duration-300 hover:border-purple-500/50 hover:shadow-lg hover:shadow-purple-500/10",children:l.jsxs("div",{className:"flex flex-col md:flex-row",children:[l.jsxs("div",{className:"relative w-full md:w-32 h-32 overflow-hidden",children:[l.jsx("img",{src:e.image||"https://images.pexels.com/photos/1540406/pexels-photo-1540406.jpeg?auto=compress&cs=tinysrgb&w=800",alt:e.title,className:"w-full h-full object-cover"}),l.jsx("div",{className:"absolute top-2 left-2",children:l.jsx("span",{className:"px-2 py-1 bg-purple-600 text-white text-xs font-semibold rounded-full",children:e.category})})]}),l.jsxs("div",{className:"flex-1 p-4",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:e.title}),l.jsxs("div",{className:"space-y-1 text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(dt,{className:"w-3 h-3 mr-2 text-purple-400"}),l.jsx("span",{children:e.date})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(Qi,{className:"w-3 h-3 mr-2 text-purple-400"}),l.jsx("span",{children:e.time})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(tn,{className:"w-3 h-3 mr-2 text-purple-400"}),l.jsx("span",{children:e.venue})]}),e.price&&l.jsxs("div",{className:"flex items-center",children:[l.jsx("span",{className:"w-3 h-3 mr-2 text-purple-400",children:""}),l.jsx("div",{className:"flex flex-col",children:(()=>{if(!e.price)return"Free";try{const t=JSON.parse(e.price);if(Array.isArray(t)&&t.length>0){const r=t.filter(n=>n.type&&n.price);if(r.length===0)return"Free";if(r.length===1)return`${r[0].type}: ${r[0].price}`;{const n=r[0],s=r.length-1;return l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm",children:[n.type,": ",n.price]}),l.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-500",children:["+",s," more type",s>1?"s":""]})]})}}return"Free"}catch{return e.price.replace(/\$/g,"")}})()})]})]})]})]})}),wx=({user:e})=>{var w,b;const[t,r]=x.useState("created"),[n,s]=x.useState([]),[i,o]=x.useState([]),[a,u]=x.useState(!0),[c,d]=x.useState(null),[h,m]=x.useState(!1),y=async()=>{try{const{data:{user:j},error:N}=await V.auth.getUser();if(N||!j)throw new Error("You must be logged in to view your events");const{data:S,error:R}=await V.from("groovanna b").select("*").eq("creator_id",j.id).order("date",{ascending:!0});if(R)throw R;s(S||[])}catch(j){console.error("Error fetching created events:",j),d("Failed to fetch created events"),s([])}},v=async()=>{try{const{data:{user:j},error:N}=await V.auth.getUser();if(N||!j)throw new Error("You must be logged in to view your attending events");const{data:S,error:R}=await V.from("attendees").select(`
          event_id,
          "groovanna b" (
            id,
            title,
            date,
            time,
            venue,
            location,
            organizer,
            description,
            category,
            price,
            image,
            creator_id
          )
        `).eq("user_id",j.id).order("created_at",{ascending:!1});if(R)throw R;const P=(S==null?void 0:S.map(U=>({id:U["groovanna b"].id,title:U["groovanna b"].title,date:U["groovanna b"].date,time:U["groovanna b"].time,venue:U["groovanna b"].venue,location:U["groovanna b"].location,organizer:U["groovanna b"].organizer,description:U["groovanna b"].description,category:U["groovanna b"].category,price:U["groovanna b"].price,image:U["groovanna b"].image,creator_id:U["groovanna b"].creator_id})))||[];o(P)}catch(j){console.error("Error fetching attending events:",j),d("Failed to fetch attending events"),o([])}};x.useEffect(()=>{(async()=>{u(!0),d(null),await Promise.all([y(),v()]),u(!1)})()},[]);const k=()=>{m(!1),y()},_=((w=e.user_metadata)==null?void 0:w.full_name)||((b=e.email)==null?void 0:b.split("@")[0])||"User",g=e.email||"",p=new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),f=t==="created"?n:i;return l.jsxs("div",{className:"min-h-screen bg-white dark:bg-gradient-to-br dark:from-gray-900 dark:via-purple-900 dark:to-gray-900 pt-20 transition-colors duration-300",children:[l.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs(he,{to:"/",className:"inline-flex items-center text-purple-400 hover:text-purple-300 transition-colors mb-6",children:[l.jsx(Of,{className:"w-4 h-4 mr-2"}),"Back to Events"]}),l.jsx("div",{className:"bg-gray-100 dark:bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-200 dark:border-gray-700/50 p-8 mb-8 transition-colors duration-300",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center space-y-4 md:space-y-0 md:space-x-6",children:[l.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-600 to-purple-400 rounded-full flex items-center justify-center",children:l.jsx(Ql,{className:"w-10 h-10 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:_}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-1 transition-colors duration-300",children:g}),l.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm transition-colors duration-300",children:["Member since ",p]})]}),l.jsxs("div",{className:"flex space-x-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-400",children:n.length}),l.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm transition-colors duration-300",children:"Created Events"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-400",children:i.length}),l.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm transition-colors duration-300",children:"Attending"})]})]})]})}),l.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-200 dark:border-gray-700/50 overflow-hidden transition-colors duration-300",children:[l.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700/50",children:[l.jsxs("button",{onClick:()=>r("created"),className:`flex-1 px-6 py-4 text-center font-semibold transition-all duration-200 ${t==="created"?"bg-purple-600 text-white":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-200 dark:hover:bg-gray-700/50"}`,children:[l.jsx(Un,{className:"w-5 h-5 inline mr-2"}),"Created Events (",n.length,")"]}),l.jsxs("button",{onClick:()=>r("attending"),className:`flex-1 px-6 py-4 text-center font-semibold transition-all duration-200 ${t==="attending"?"bg-purple-600 text-white":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-200 dark:hover:bg-gray-700/50"}`,children:[l.jsx(dt,{className:"w-5 h-5 inline mr-2"}),"Attending Events (",i.length,")"]})]}),l.jsx("div",{className:"p-6",children:a?l.jsxs("div",{className:"flex items-center justify-center py-12",children:[l.jsx(Ce,{className:"w-8 h-8 text-purple-400 animate-spin mr-3"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg transition-colors duration-300",children:"Loading events..."})]}):c?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-red-400 text-lg mb-2",children:"Error loading events"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-500 text-sm transition-colors duration-300",children:c})]}):f.length>0?l.jsx("div",{className:"space-y-4",children:f.map(j=>l.jsx(xx,{event:j},j.id))}):l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4 transition-colors duration-300",children:t==="created"?l.jsx(Un,{className:"w-8 h-8 text-gray-500 dark:text-gray-400"}):l.jsx(dt,{className:"w-8 h-8 text-gray-500 dark:text-gray-400"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:t==="created"?"No Events Created Yet":"No Events Attended Yet"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 transition-colors duration-300",children:t==="created"?"Start creating amazing music events for your community!":"Discover and attend exciting music events near you!"}),t==="created"&&l.jsxs("button",{onClick:()=>m(!0),className:"inline-flex items-center px-6 py-3 bg-purple-600 hover:bg-purple-500 text-white font-semibold rounded-lg transition-all duration-200 hover:shadow-lg hover:shadow-purple-500/25",children:[l.jsx(Un,{className:"w-5 h-5 mr-2"}),"Create Your First Event"]}),t==="attending"&&l.jsxs(he,{to:"/",className:"inline-flex items-center px-6 py-3 bg-purple-600 hover:bg-purple-500 text-white font-semibold rounded-lg transition-all duration-200 hover:shadow-lg hover:shadow-purple-500/25",children:[l.jsx(dt,{className:"w-5 h-5 mr-2"}),"Browse Events"]})]})})]})]}),l.jsx(Yl,{isOpen:h,onClose:()=>m(!1),onEventSubmitted:k})]})},kx=()=>{const e=st(),[t,r]=x.useState("loading"),[n,s]=x.useState(null);x.useEffect(()=>{const u=new URLSearchParams(e.search),c=u.get("reference"),d=u.get("trxref"),h=u.get("status");console.log("Payment callback received with parameters:",{reference:c,trxref:d,status:h,fullUrl:window.location.href,search:e.search});const m={reference:c||d,status:h,timestamp:new Date().toISOString()};s(m),r(h==="success"?"success":h==="cancelled"?"cancelled":"failed"),console.log("Payment status determined:",{paymentStatus:h==="success"?"success":h==="cancelled"?"cancelled":"failed",details:m})},[e]);const i=()=>{switch(t){case"success":return l.jsx(rx,{className:"w-16 h-16 text-green-400 mx-auto mb-4"});case"failed":return l.jsx(Oc,{className:"w-16 h-16 text-red-400 mx-auto mb-4"});case"cancelled":return l.jsx(Oc,{className:"w-16 h-16 text-yellow-400 mx-auto mb-4"});default:return l.jsx(Ce,{className:"w-16 h-16 text-purple-400 mx-auto mb-4 animate-spin"})}},a=(()=>{switch(t){case"success":return{title:"Payment Successful!",message:"Your ticket purchase has been completed successfully. You should receive a confirmation email shortly.",color:"text-green-400"};case"failed":return{title:"Payment Failed",message:"Unfortunately, your payment could not be processed. Please try again or contact support if the issue persists.",color:"text-red-400"};case"cancelled":return{title:"Payment Cancelled",message:"You cancelled the payment process. No charges have been made to your account.",color:"text-yellow-400"};default:return{title:"Processing Payment...",message:"Please wait while we verify your payment status.",color:"text-purple-400"}}})();return l.jsx("div",{className:"min-h-screen bg-white dark:bg-gradient-to-br dark:from-gray-900 dark:via-purple-900 dark:to-gray-900 flex items-center justify-center p-4 transition-colors duration-300",children:l.jsxs("div",{className:"max-w-md w-full",children:[l.jsxs(he,{to:"/",className:"inline-flex items-center text-purple-400 hover:text-purple-300 transition-colors mb-6",children:[l.jsx(Of,{className:"w-4 h-4 mr-2"}),"Back to Events"]}),l.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-200 dark:border-gray-700/50 p-8 text-center transition-colors duration-300",children:[i(),l.jsx("h1",{className:`text-2xl font-bold mb-4 ${a.color}`,children:a.title}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6 leading-relaxed transition-colors duration-300",children:a.message}),n&&l.jsxs("div",{className:"bg-gray-200 dark:bg-gray-900/50 rounded-lg p-4 mb-6 text-left transition-colors duration-300",children:[l.jsxs("h3",{className:"text-gray-900 dark:text-white font-semibold mb-3 flex items-center transition-colors duration-300",children:[l.jsx(Lf,{className:"w-4 h-4 mr-2"}),"Transaction Details"]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[n.reference&&l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Reference:"}),l.jsx("span",{className:"text-gray-900 dark:text-white font-mono transition-colors duration-300",children:n.reference})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Status:"}),l.jsx("span",{className:`font-semibold ${a.color}`,children:t.charAt(0).toUpperCase()+t.slice(1)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400 transition-colors duration-300",children:"Time:"}),l.jsx("span",{className:"text-gray-900 dark:text-white transition-colors duration-300",children:new Date(n.timestamp).toLocaleString()})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[t==="success"&&l.jsx(he,{to:"/profile",className:"block w-full px-6 py-3 bg-gradient-to-r from-green-600 to-green-500 hover:from-green-500 hover:to-green-400 text-white font-semibold rounded-lg transition-all duration-200 hover:shadow-lg hover:shadow-green-500/25",children:"View My Tickets"}),(t==="failed"||t==="cancelled")&&l.jsx("button",{onClick:()=>window.history.back(),className:"block w-full px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-500 hover:to-purple-400 text-white font-semibold rounded-lg transition-all duration-200 hover:shadow-lg hover:shadow-purple-500/25",children:"Try Again"}),l.jsx(he,{to:"/",className:"block w-full px-6 py-3 border border-gray-400 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:border-gray-500 dark:hover:border-gray-500 font-semibold rounded-lg transition-all duration-200 text-center",children:"Browse More Events"})]})]}),!1]})})},_x=({user:e,setShowEventForm:t,setAuthMode:r,setShowAuthModal:n})=>{const s=st(),i=({children:a,isActive:u=!1,onClick:c})=>l.jsx("div",{className:`flex flex-col items-center justify-center px-3 py-2 rounded-xl transition-all duration-300 cursor-pointer ${u?"bg-purple-600/20 text-purple-400 scale-105":"text-gray-500 dark:text-gray-400 hover:text-purple-500 dark:hover:text-purple-300 hover:bg-gray-200 dark:hover:bg-gray-800/50 hover:scale-105"}`,onClick:c,children:a}),o=({icon:a,label:u})=>l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-1 transform transition-transform duration-200",children:a}),l.jsx("span",{className:"text-xs font-medium",children:u})]});return l.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white/95 dark:bg-gray-900/95 backdrop-blur-md border-t border-gray-200 dark:border-gray-700/50 shadow-2xl transition-colors duration-300",children:[l.jsxs("div",{className:"flex justify-around items-center h-20 px-4 max-w-md mx-auto",children:[l.jsx(he,{to:"/",className:"flex-1 flex justify-center",children:l.jsx(i,{isActive:s.pathname==="/",children:l.jsx(o,{icon:l.jsx($f,{className:"w-6 h-6"}),label:"Events"})})}),e?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex-1 flex justify-center",children:l.jsx(i,{onClick:()=>t(!0),children:l.jsx(o,{icon:l.jsx(dx,{className:"w-6 h-6"}),label:"Create"})})}),l.jsx(he,{to:"/profile",className:"flex-1 flex justify-center",children:l.jsx(i,{isActive:s.pathname==="/profile",children:l.jsx(o,{icon:l.jsx(Ql,{className:"w-6 h-6"}),label:"Profile"})})})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex-1 flex justify-center",children:l.jsx(i,{onClick:()=>{r("signin"),n(!0)},children:l.jsx(o,{icon:l.jsx(ax,{className:"w-5 h-5"}),label:"Sign In"})})}),l.jsx("div",{className:"flex-1 flex justify-center",children:l.jsx(i,{onClick:()=>{r("signup"),n(!0)},children:l.jsx(o,{icon:l.jsx(za,{className:"w-5 h-5"}),label:"Sign Up"})})})]})]}),l.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-purple-400/50 dark:via-purple-500/50 to-transparent"})]})},Uf=x.createContext(void 0),bx=()=>{const e=x.useContext(Uf);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},jx=({children:e})=>{const[t,r]=x.useState(()=>{const s=localStorage.getItem("theme");return s||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")}),n=()=>{r(s=>s==="light"?"dark":"light")};return x.useEffect(()=>{const s=document.documentElement;t==="dark"?s.classList.add("dark"):s.classList.remove("dark"),localStorage.setItem("theme",t)},[t]),l.jsx(Uf.Provider,{value:{theme:t,toggleTheme:n},children:e})},Sx=()=>{const{theme:e,toggleTheme:t}=bx();return l.jsx("button",{onClick:t,className:"relative p-2 rounded-full bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900","aria-label":`Switch to ${e==="light"?"dark":"light"} mode`,title:`Switch to ${e==="light"?"dark":"light"} mode`,children:l.jsxs("div",{className:"relative w-6 h-6",children:[l.jsx(fx,{className:`absolute inset-0 w-6 h-6 text-yellow-500 transition-all duration-300 transform ${e==="light"?"rotate-0 scale-100 opacity-100":"rotate-90 scale-0 opacity-0"}`}),l.jsx(cx,{className:`absolute inset-0 w-6 h-6 text-blue-400 transition-all duration-300 transform ${e==="dark"?"rotate-0 scale-100 opacity-100":"-rotate-90 scale-0 opacity-0"}`})]})})},Ex=({user:e})=>{const[t,r]=x.useState(null),[n,s]=x.useState(!0);return x.useEffect(()=>{(async()=>{var c;if(!e){r(!1),s(!1);return}const o=((c=e.user_metadata)==null?void 0:c.role)==="admin",a=["admin@groovava.com","ibrahim@groovava.com"],u=e.email&&a.includes(e.email);r(o||!!u),s(!1)})()},[e]),n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:l.jsx(Ce,{className:"w-8 h-8 text-purple-600 animate-spin"})}):t?l.jsx(rf,{}):l.jsx(tf,{to:"/",replace:!0})},Df="/Groovava-ai-assisted/assets/logo-DUk-ZdCX.jpg",Nx=()=>{const e=st(),t=Dl(),r=async()=>{await V.auth.signOut(),t("/")},n=s=>e.pathname===s?"bg-purple-600 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700";return l.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex",children:[l.jsxs("aside",{className:"w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col fixed h-full transition-colors duration-300",children:[l.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:l.jsx(he,{to:"/",className:"flex items-center space-x-2",children:l.jsx("img",{src:Df,alt:"Groovava Admin",className:"h-8 w-auto"})})}),l.jsxs("nav",{className:"flex-1 p-4 space-y-2",children:[l.jsxs(he,{to:"/admin",className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${n("/admin")}`,children:[l.jsx(ix,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:"Dashboard"})]}),l.jsxs(he,{to:"/admin/events",className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${n("/admin/events")}`,children:[l.jsx(dt,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:"Events"})]}),l.jsxs(he,{to:"/admin/users",className:`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${n("/admin/users")}`,children:[l.jsx(If,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:"Users"})]})]}),l.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 space-y-2",children:[l.jsxs(he,{to:"/",className:"flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[l.jsx($f,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:"Back to Home"})]}),l.jsxs("button",{onClick:r,className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[l.jsx(lx,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:"Logout"})]})]})]}),l.jsx("main",{className:"flex-1 ml-64 p-8 overflow-y-auto h-screen",children:l.jsx("div",{className:"max-w-7xl mx-auto",children:l.jsx(rf,{})})})]})},Cx=()=>{const[e,t]=x.useState({totalEvents:0,totalUsers:0,loading:!0});return x.useEffect(()=>{(async()=>{try{const{count:n,error:s}=await V.from("groovanna b").select("*",{count:"exact",head:!0});if(s)throw s;const{count:i,error:o}=await V.from("attendees").select("*",{count:"exact",head:!0});if(o)throw o;t({totalEvents:n||0,totalUsers:i||0,loading:!1})}catch(n){console.error("Error fetching admin stats:",n),t(s=>({...s,loading:!1}))}})()},[]),e.loading?l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx(Ce,{className:"w-8 h-8 text-purple-600 animate-spin"})}):l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:"Dashboard Overview"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:l.jsx(dt,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})}),l.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"Total Events"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:e.totalEvents})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:l.jsx(If,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})}),l.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"Total Bookings"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:e.totalUsers})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-lg",children:l.jsx(nx,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})}),l.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"Total Revenue"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:"0.00"}),l.jsx("span",{className:"text-xs text-gray-500 mt-2 block",children:"(Coming Soon)"})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-lg",children:l.jsx(px,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})}),l.jsx("h3",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"Growth"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:"+0%"}),l.jsx("span",{className:"text-xs text-gray-500 mt-2 block",children:"Since last month"})]})]}),l.jsxs("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"Recent Activity"}),l.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-sm text-center py-8",children:"No recent activity to display."})]})]})},Tx=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[s,i]=x.useState(""),[o,a]=x.useState(null),u=async()=>{try{const{data:h,error:m}=await V.from("groovanna b").select("*").order("date",{ascending:!1});if(m)throw m;t(h||[])}catch(h){console.error("Error fetching events:",h)}finally{n(!1)}};x.useEffect(()=>{u()},[]);const c=async h=>{if(window.confirm("Are you sure you want to delete this event? This action cannot be undone.")){a(h);try{const{error:m}=await V.from("groovanna b").delete().eq("id",h);if(m)throw m;t(e.filter(y=>y.id!==h))}catch(m){console.error("Error deleting event:",m),alert("Failed to delete event")}finally{a(null)}}},d=e.filter(h=>h.title.toLowerCase().includes(s.toLowerCase())||h.organizer.toLowerCase().includes(s.toLowerCase())||h.location.toLowerCase().includes(s.toLowerCase()));return r?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(Ce,{className:"w-8 h-8 text-purple-600 animate-spin"})}):l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Manage Events"}),l.jsxs("div",{className:"relative",children:[l.jsx(Si,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search events...",value:s,onChange:h=>i(h.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 outline-none w-full md:w-64"})]})]}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700/50 border-b border-gray-200 dark:border-gray-700",children:[l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Event"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Location"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Organizer"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider text-right",children:"Actions"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:d.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:l.jsxs("div",{className:"flex flex-col items-center justify-center",children:[l.jsx(Jl,{className:"w-8 h-8 mb-2"}),l.jsx("p",{children:"No events found"})]})})}):d.map(h=>l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsx("div",{className:"flex items-center",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:h.title}),l.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300",children:h.category})]})})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[l.jsx(dt,{className:"w-4 h-4 mr-2"}),new Date(h.date).toLocaleDateString()]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[l.jsx(tn,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"truncate max-w-[150px]",children:h.location})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:h.organizer}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:l.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[l.jsx("button",{className:"p-2 text-gray-400 hover:text-purple-600 transition-colors",title:"View Details",children:l.jsx(Gl,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>c(h.id),disabled:o===h.id,className:"p-2 text-gray-400 hover:text-red-600 transition-colors disabled:opacity-50",title:"Delete Event",children:o===h.id?l.jsx(Ce,{className:"w-4 h-4 animate-spin"}):l.jsx(Af,{className:"w-4 h-4"})})]})})]},h.id))})]})})})]})},Px=()=>{const[e,t]=x.useState([]),[r,n]=x.useState(!0),[s,i]=x.useState("");x.useEffect(()=>{(async()=>{try{const{data:u}=await V.from("groovanna b").select("organizer, creator_id, created_at"),{data:c}=await V.from("attendees").select("user_id, created_at"),d=new Map;u&&u.forEach(h=>{h.creator_id&&!d.has(h.creator_id)&&d.set(h.creator_id,{id:h.creator_id,full_name:h.organizer||"Unknown Organizer",role:"Organizer",last_seen:h.created_at})}),c&&c.forEach(h=>{h.user_id&&!d.has(h.user_id)&&d.set(h.user_id,{id:h.user_id,full_name:"Attendee",role:"User",last_seen:h.created_at})}),t(Array.from(d.values()))}catch(u){console.error("Error fetching users:",u)}finally{n(!1)}})()},[]);const o=e.filter(a=>{var u,c;return(((u=a.full_name)==null?void 0:u.toLowerCase())||"").includes(s.toLowerCase())||(((c=a.role)==null?void 0:c.toLowerCase())||"").includes(s.toLowerCase())});return l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8 gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Users"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"Displaying active users based on events and bookings."})]}),l.jsxs("div",{className:"relative",children:[l.jsx(Si,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search users...",value:s,onChange:a=>i(a.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 outline-none w-full md:w-64"})]})]}),l.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-100 dark:border-purple-800 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"flex items-start",children:[l.jsx(Jl,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mt-0.5 mr-3 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-purple-800 dark:text-purple-300",children:"Privacy Notice"}),l.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-400 mt-1",children:"Due to privacy settings, only users who have participated in events (created or attended) are listed here. Full user database access requires super-admin privileges."})]})]})}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:r?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(Ce,{className:"w-8 h-8 text-purple-600 animate-spin"})}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700/50 border-b border-gray-200 dark:border-gray-700",children:[l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"User"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Role"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Active"}),l.jsx("th",{className:"px-6 py-4 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:o.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:"No active users found."})}):o.map(a=>{var u;return l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700/30 transition-colors",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-purple-500 to-indigo-500 flex items-center justify-center text-white font-medium text-sm mr-3",children:((u=a.full_name)==null?void 0:u.charAt(0))||"U"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.full_name}),l.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:[a.id.substring(0,8),"..."]})]})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a.role==="Organizer"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300":"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"}`,children:a.role})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:a.last_seen?new Date(a.last_seen).toLocaleDateString():"Unknown"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 mr-2"}),"Active"]})})]},a.id)})})]})})})]})};function Rx({user:e,events:t,loading:r,searchQuery:n,setSearchQuery:s,selectedEvent:i,setSelectedEvent:o,showAuthModal:a,setShowAuthModal:u,showEventForm:c,setShowEventForm:d,authMode:h,setAuthMode:m,fetchEvents:y}){var k,_;const v=t.filter(g=>{if(!n.trim())return!0;const p=n.toLowerCase();return g.title.toLowerCase().includes(p)||g.description.toLowerCase().includes(p)||g.venue.toLowerCase().includes(p)||g.organizer&&g.organizer.toLowerCase().includes(p)||g.category.toLowerCase().includes(p)||g.location&&g.location.toLowerCase().includes(p)});return l.jsxs("div",{className:"min-h-screen bg-white dark:bg-gradient-to-br dark:from-gray-900 dark:via-purple-900 dark:to-gray-900 transition-colors duration-300",children:[l.jsx("nav",{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur-md shadow-lg sticky top-0 z-40 border-b border-gray-200 dark:border-gray-700/50 transition-colors duration-300",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsx("div",{className:"flex items-center",children:l.jsx(he,{to:"/",className:"flex items-center",children:l.jsx("img",{src:Df,alt:"Ticketsef",className:"h-10 w-auto"})})}),l.jsx("div",{className:"hidden md:block",children:l.jsxs("div",{className:"ml-10 flex items-baseline space-x-4",children:[l.jsx(Sx,{}),l.jsx(he,{to:"/",className:"text-gray-600 dark:text-gray-300 hover:text-purple-500 dark:hover:text-purple-400 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Events"}),e&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>d(!0),className:"text-gray-600 dark:text-gray-300 hover:text-purple-500 dark:hover:text-purple-400 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Create Events"}),l.jsx(he,{to:"/profile",className:"text-gray-600 dark:text-gray-300 hover:text-purple-500 dark:hover:text-purple-400 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Profile"})]}),e?l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Welcome, ",((k=e.user_metadata)==null?void 0:k.full_name)||((_=e.email)==null?void 0:_.split("@")[0]),"!"]}),l.jsx("button",{onClick:async()=>{await V.auth.signOut()},className:"bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium hover:bg-red-700 transition-all duration-200 shadow-md hover:shadow-lg",children:"Logout"})]}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>{m("signin"),u(!0)},className:"text-gray-600 dark:text-gray-300 hover:text-purple-500 dark:hover:text-purple-400 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Sign In"}),l.jsx("button",{onClick:()=>{m("signup"),u(!0)},className:"bg-gradient-to-r from-purple-600 to-purple-500 text-white px-4 py-2 rounded-lg text-sm font-medium hover:from-purple-500 hover:to-purple-400 transition-all duration-200 shadow-md hover:shadow-lg",children:"Sign Up"})]})]})})]})})}),l.jsx("div",{className:"relative overflow-hidden",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 dark:text-white mb-6 transition-colors duration-300",children:["Discover Amazing"," ",l.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-purple-300 bg-clip-text text-transparent",children:"Events"})]}),l.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-8 max-w-3xl mx-auto transition-colors duration-300",children:"Connect with your community through unforgettable experiences. Find events that match your interests and create memories that last a lifetime."}),l.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:l.jsxs("div",{className:"relative",children:[l.jsx(Si,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500 dark:text-gray-400"}),l.jsx("input",{type:"text",value:n,onChange:g=>s(g.target.value),placeholder:"Search events by title, location, venue, organizer...",className:"w-full px-5 py-3 pl-12 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-full text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"})]})}),!e&&l.jsx("button",{onClick:()=>{m("signup"),u(!0)},className:"bg-gradient-to-r from-purple-600 to-purple-500 text-white px-8 py-4 rounded-full text-lg font-semibold hover:from-purple-500 hover:to-purple-400 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:"Join the Movement"})]})})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 pb-24",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:n?"Search Results":"Upcoming Events"}),n&&l.jsxs("p",{className:"text-gray-600 dark:text-gray-400 transition-colors duration-300",children:["Found ",v.length," event",v.length!==1?"s":"",' for "',n,'"']})]}),r?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[...Array(6)].map((g,p)=>l.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800/50 backdrop-blur-sm rounded-xl border border-gray-200 dark:border-gray-700/50 overflow-hidden animate-pulse transition-colors duration-300",children:[l.jsx("div",{className:"h-48 bg-gray-300 dark:bg-gray-700"}),l.jsxs("div",{className:"p-6",children:[l.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded mb-2"}),l.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-600 rounded w-2/3 mb-4"}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"h-3 bg-gray-300 dark:bg-gray-600 rounded"}),l.jsx("div",{className:"h-3 bg-gray-300 dark:bg-gray-600 rounded"}),l.jsx("div",{className:"h-3 bg-gray-300 dark:bg-gray-600 rounded w-1/2"})]})]})]},p))}):v.length===0&&n?l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4 transition-colors duration-300",children:l.jsx(Si,{className:"w-8 h-8 text-gray-500 dark:text-gray-400"})}),l.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:"No Events Found"}),l.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4 transition-colors duration-300",children:['No events match your search for "',n,'". Try different keywords or browse all events.']}),l.jsx("button",{onClick:()=>s(""),className:"px-6 py-3 bg-purple-600 hover:bg-purple-500 text-white font-semibold rounded-lg transition-all duration-200",children:"Clear Search"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:v.map(g=>l.jsxs("div",{className:"bg-white dark:bg-gray-800/50 backdrop-blur-sm rounded-xl border border-gray-200 dark:border-gray-700/50 overflow-hidden hover:border-purple-500/50 hover:shadow-lg hover:shadow-purple-500/10 transition-all duration-300 transform hover:-translate-y-2 cursor-pointer",onClick:()=>o({event:g,mode:"details"}),children:[l.jsxs("div",{className:"relative h-48 overflow-hidden",children:[l.jsx("img",{src:g.image||"https://images.pexels.com/photos/1540406/pexels-photo-1540406.jpeg?auto=compress&cs=tinysrgb&w=800",alt:g.title,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-110"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),l.jsx("div",{className:"absolute top-4 left-4",children:l.jsx("span",{className:"px-3 py-1 bg-purple-600 text-white text-sm font-semibold rounded-full",children:g.category})})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2 transition-colors duration-300",children:g.title}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 line-clamp-2 transition-colors duration-300",children:g.description}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300",children:[l.jsx(dt,{className:"w-4 h-4 mr-2 text-purple-400"}),new Date(g.date).toLocaleDateString()]}),g.time&&l.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300",children:[l.jsx(Qi,{className:"w-4 h-4 mr-2 text-purple-400"}),g.time]}),l.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300",children:[l.jsx(tn,{className:"w-4 h-4 mr-2 text-purple-400"}),g.venue]}),g.price&&l.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 transition-colors duration-300",children:[l.jsx("span",{className:"w-4 h-4 mr-2 text-purple-400",children:""}),l.jsx("div",{className:"flex flex-col",children:(()=>{if(!g.price)return"Free";try{const p=JSON.parse(g.price);if(Array.isArray(p)&&p.length>0){const f=p.filter(w=>w.type&&w.price);if(f.length===0)return"Free";if(f.length===1)return`${f[0].type}: ${f[0].price}`;{const w=f[0],b=f.length-1;return l.jsxs("div",{children:[l.jsxs("div",{children:[w.type,": ",w.price]}),l.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-500",children:["+",b," more type",b>1?"s":""]})]})}}return"Free"}catch{return g.price.replace(/\$/g,"")}})()})]})]})]}),l.jsx("div",{className:"px-6 pb-6",children:l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs("button",{onClick:p=>{p.stopPropagation(),o({event:g,mode:"details"})},className:"flex-1 flex items-center justify-center px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-900 dark:text-white text-sm font-medium rounded-lg transition-all duration-200 hover:shadow-md",children:[l.jsx(Gl,{className:"w-4 h-4 mr-2"}),"View Details"]}),l.jsxs("button",{onClick:p=>{p.stopPropagation(),o({event:g,mode:"buyTickets"})},className:"flex-1 flex items-center justify-center px-4 py-2 bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-500 hover:to-purple-400 text-white text-sm font-medium rounded-lg transition-all duration-200 hover:shadow-lg hover:shadow-purple-500/25",children:[l.jsx(Lf,{className:"w-4 h-4 mr-2"}),"Buy Tickets"]})]})})]},g.id))})]}),a&&l.jsx(gx,{isOpen:a,mode:h,onClose:()=>u(!1)}),i&&l.jsx(vx,{event:i.event,displayMode:i.mode,isOpen:!!i,user:e,onClose:()=>o(null),onEventUpdated:y}),c&&l.jsx(Yl,{isOpen:c,onClose:()=>d(!1),onEventSubmitted:()=>{d(!1),y()}}),l.jsx(_x,{user:e,setShowEventForm:d,setAuthMode:m,setShowAuthModal:u})]})}function Ox(){const[e,t]=x.useState(null),[r,n]=x.useState(!0),[s,i]=x.useState([]),[o,a]=x.useState(!0),[u,c]=x.useState(""),[d,h]=x.useState(null),[m,y]=x.useState(!1),[v,k]=x.useState(!1),[_,g]=x.useState("signin");x.useEffect(()=>{V.auth.getSession().then(({data:{session:w}})=>{t((w==null?void 0:w.user)??null),n(!1)});const{data:{subscription:f}}=V.auth.onAuthStateChange((w,b)=>{t((b==null?void 0:b.user)??null),n(!1)});return()=>f.unsubscribe()},[]);const p=async()=>{try{const{data:f,error:w}=await V.from("groovanna b").select("*").order("date",{ascending:!0});if(w)throw w;i(f||[])}catch(f){console.error("Error fetching events:",f)}finally{a(!1)}};return x.useEffect(()=>{p()},[]),r?l.jsx("div",{className:"min-h-screen bg-white dark:bg-gradient-to-br dark:from-gray-900 dark:via-purple-900 dark:to-gray-900 flex items-center justify-center transition-colors duration-300",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Ce,{className:"w-8 h-8 text-purple-400 animate-spin"}),l.jsx("p",{className:"text-gray-900 dark:text-white text-lg transition-colors duration-300",children:"Loading..."})]})}):l.jsx(Ng,{children:l.jsxs(sg,{children:[l.jsx(ft,{path:"/",element:l.jsx(Rx,{user:e,events:s,loading:o,searchQuery:u,setSearchQuery:c,selectedEvent:d,setSelectedEvent:h,showAuthModal:m,setShowAuthModal:y,showEventForm:v,setShowEventForm:k,authMode:_,setAuthMode:g,fetchEvents:p})}),l.jsx(ft,{path:"/profile",element:e?l.jsx(wx,{user:e}):l.jsx(tf,{to:"/",replace:!0})}),l.jsx(ft,{path:"/payment-success",element:l.jsx(kx,{})}),l.jsx(ft,{element:l.jsx(Ex,{user:e}),children:l.jsxs(ft,{path:"/admin",element:l.jsx(Nx,{}),children:[l.jsx(ft,{index:!0,element:l.jsx(Cx,{})}),l.jsx(ft,{path:"events",element:l.jsx(Tx,{})}),l.jsx(ft,{path:"users",element:l.jsx(Px,{})})]})})]})})}Vh(document.getElementById("root")).render(l.jsx(x.StrictMode,{children:l.jsx(jx,{children:l.jsx(Ox,{})})}));
